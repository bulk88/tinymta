!function(){"use strict";var d,j,N,E,S,w,O,x=window,A=location,m=document.documentElement,T=m.firstChild,q={},u=0,L=A.pathname,g=A.hash,F=A.origin,I=G(L),K={headers:{"accept-version":"3.0"}},z=[,[0,5,12],[,,!Object.values],[3,8,4],[2,7,4],[0,4,2],[0,4,2],[1,6,2],[,9,!x.requestIdleCallback],[]],o={},D=["//backend-unified.mylirr.org","//otp-mta-prod.camsys-apps.com","//collector-otp-prod.camsys-apps.com",["//tiles1.tinymta.us.to","//tiles2.tinymta.us.to"],"/rstop.htm","/rtrain.htm","/stop.htm","/status.htm","/tileMap.htm",["/bk.png","/zo.png","/zi.png","/ts.gif"]],B=["/f.js","/1p.js","/fav.js","/dumb.js"],M=["style","body","html","div",,"link",0],P=x.requestIdleCallback||(x.requestAnimationFrame?function(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}:function(e){return setTimeout(e,40)});function Y(){for(var e,t=0;t<M.length;t++)(e=M[t])[1]||(e[1]=e[0].cloneNode(0))}x.fetch||x.f||(f=1,T.appendChild(document.createElement("script")).src="/f.js");for(var e,t,n,s,a={body:document.body,style:T.getElementsByTagName("style")[0],y:x.y},p=[a,a.body,L+g,I],r=0;r<M.length;r++)t=(e=M[r])?document.createElement(e):t.cloneNode(0),M[r]=[t];if(M[6][0].rel="prefetch",(t=M[5][0]).rel="preconnect",t.crossOrigin="anonymous",Y(),(n=T.querySelectorAll('link[rel="preconnect"]')).length){if(1<n.length){for(s=M[3][1],r=M[3][1]=0;r<n.length;r++)s.appendChild(n[r]);T.appendChild(s)}else s=n[0];j=D[z[I][0]]=a.pc=s}if((n=T.querySelectorAll('link[rel="prefetch"]')).length){if(1<n.length){for(s=M[4][1],r=M[4][1]=0;r<n.length;r++)s.appendChild(n[r]);T.appendChild(s)}else s=n[0];N=D[z[I][1]]=a.pf=s}function G(e){var t;switch(e){case"/tileMap.htm":t=8;break;case"/stations.htm":t=7;break;case"/mn/stations.htm":t=6;break;case"/li/stations.htm":t=5;break;case"/":t=4;break;case"/stop.htm":t=3;break;case"/status.htm":t=2;break;case"/rstop.htm":t=1;break;case"/rtrain.htm":t=0;break;default:t=9}return t}function i(e){var n,t,s,o,a,r,i,l="touchstart"===e.type;if("A"===(e="FONT"===(e=e.target).nodeName?e.parentNode:e).nodeName&&(l||!e.tmts)&&e.origin===F&&(n=e.hash,(y="/"==(y=e.pathname).charAt(0)?y:"/"+y)!==A.pathname)){if(10<=y.length&&y.lastIndexOf("/jsrdt.htm")===y.length-10&&(e.pathname=y=y.replace("/jsrdt.htm","/js/rt.htm")),(o=G(y))<4&&(n=n.slice(1),x.S={t:Date.now(),s:n,f:function(e){r?e(r):i=e}},fetch(3===o?"//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+n.slice(0,3):2===o?"//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":1===o?"//backend-unified.mylirr.org/arrivals/"+n:"//backend-unified.mylirr.org/locations/"+n+"?geometry=NONE",1<o?{}:K).then(function(e){var t,n;i?i(e):r=200==e.status?(e.json().then(function(e){t?t(e):n=e}),{status:200,json:function(){return{then:function(e){n?setTimeout(e,0,n):t=e}}}}):e}),2===o)&&(R=0,S=1,T.appendChild(document.createElement("script")).src="routes.js"),8===o&&(t=function(e,t){t?s.pr=t:(x.S=s={t:Date.now(),s:n,pt:o,pr:e.body},e.js(0,n))}),!(a=q[y])||a.pgh&&void 0===E){var p,h,c,d,f,m,u,g=y,y=o,v=t,b={},C=L,k=I;try{if(!w){for(f=F.length,c={},h=0;h<B.length;h++)c[B[h]]=h+1;for(p=T.getElementsByTagName("script"),h=0;h<p.length;h++)d=(d=p[h]).src.slice(f),(d=c[d])&&(B[d-1]=0);w=1}if(-1!=g.indexOf("/stations")&&(void 0===E?history.pushState.p1?(E=history.pushState.p1[0],delete history.pushState.p1,b.pgh=E=E||0):(history.pushState.p1=m=function(e){e?T.removeChild(d):(E=history.pushState.p1[0],b.pgh=E=E||0),d.onerror=0,delete history.pushState.p1,1!==u&&u(),u=0},(d=document.createElement("script")).onerror=m,d.src="1p.js",T.appendChild(d),u=1):b.pgh=E),p=z[y])for(h=p[0],(c=D[h])&&c.length&&(c=Z(h,0)),j=H(j,b.pc=c),h=p[1],(c=D[h])&&c.length&&(c=Z(h,1)),N=H(N,b.pf=c),P(Y),c=p[2],h=0;c;h++)1&c&&B[h],c>>=1;fetch(g,{},1).then(function(e){e.text().then(function(e){var t,n,s,o,a,r,i;-1!=(t=e.indexOf("<style>"))?(a=e.slice(t+=7,t=e.indexOf("</style>",t)),t+=8,o=0,":root{color-scheme:light dark}"!=a||(o=O)||(r=1),o||(o=M[0][1],M[0][1]=0,P(Y),o.textContent=a,r&&(O=o)),b.style=o):t=0,-1!=(n=e.indexOf("<script>",t))&&(a=x.y,r=x.onpageshow,x.onpageshow=null,s=e.indexOf("<\/script>",n+8),Function(e.slice(n+8,s))(),(i=(o=b.js=onhashchange).body)&&delete o.body,b.y=x.y,b.pg=x.onpageshow,x.y=a,x.onpageshow=r,onhashchange=null,v)&&v(b),-1==e.indexOf("No javascript",t)&&(e=-1!=n?e.slice(t,n)+e.slice(s+9):e.slice(t),o=M[2][1],M[2][1]=0,P(Y),o.innerHTML=e,b.body=o=o.lastElementChild,v&&v(0,o),i)&&i(o),u?u=function(){q[g]=b,J(C,g,k)}:(q[g]=b,J(C,g,k))})})}catch(e){}}else t&&t(a);e.tmts=l}}function J(r,i,l){o[i]=1,P(function(){var e,t,n,s,o=F.length,a=q[r];if(e=a.pf)if("DIV"===e.nodeName){for(n=e.firstChild;n;){if(s=n.nextElementSibling,n.href.slice(o)==i){e.removeChild(n);break}n=s}e.firstChild||((t=e.parentNode)&&t.removeChild(e),delete a.pf,N===e&&(N=null),D[z[l][1]]=null)}else e.href.slice(o)==i&&((t=e.parentNode)&&t.removeChild(e),delete a.pf,N===e&&(N=null),D[z[l][1]]=null)})}function l(e,t){var n,s;return e&&o[t]?0:((s=(n=M[5+e])[1])?n[1]=0:s=n[0].cloneNode(0),e?".png"!=(n=t.slice(-4))&&".gif"!=n||(s.rel="preload",s.as="image"):t.indexOf("//tiles")||(s.crossOrigin=null),s.href=t,s)}function Z(e,t){var n,s,o,a=D[e];if("string"==typeof a)o=l(t,a);else{for(o=M[3+t][1],n=M[3+t][1]=0;n<a.length;n++)(s=l(t,a[n]))&&o.appendChild(s);o.firstChild||(o=0)}return D[e]=o}function H(e,t){return e!==t&&(e&&t?T.replaceChild(t,e):(e&&T.removeChild(e),t&&T.appendChild(t))),t}P(Y),(e=x.onpageshow)?a.pg=e:x.onpageshow=function(e,t){a.pg=t,x.onpageshow=t},a.pgh=x.onpagehide,(E=history.pushState.p1)&&(E=(E=E[0])||0,delete history.pushState.p1),q[L]=a,d=[p],history.state!==u&&history.replaceState(u,0,A.href),addEventListener("touchstart",i,{passive:!0}),addEventListener("mousedown",i,{passive:!0}),addEventListener("click",function(e){var t,n,s,o,a,r,i,l,p,h,c=e.target;"A"===(c="FONT"===c.nodeName?c.parentNode:c).nodeName&&c.origin===F&&(10<=(s="/"==(s=c.pathname).charAt(0)?s:"/"+s).length&&s.lastIndexOf("/jsrdt.htm")===s.length-10&&(c.pathname=s=s.replace("/jsrdt.htm","/js/rt.htm")),a=G(s),(t=q[s])?(o=c.hash,i=s===A.pathname&&o!=A.hash,(l=(p=(r=d[u])[0]).pgh)&&l({},L),2===a&&(S?S=0:(R=0,S=1,T.appendChild(document.createElement("script")).src="routes.js")),i||(m.removeChild(r[1]),H(p.style,t.style),j=H(j,t.pc),N=H(N,t.pf)),r=d[++u]=[],(p=x.S)&&p.pr&&(x.S=0,p.pt===a)&&p.s===o&&Date.now()-p.t<3e3&&(h=p.pr),8!=a&&(n=(n=x.T)&&n.GC)&&n(),d.length=u+1,h?n=h:(n=t.body)||(n=M[1][1],M[1][1]=0,P(Y)),r[1]=i?n:m.appendChild(n),history.pushState(u,0,c.href),i||(e.preventDefault(),x.y=t.y,x.onpageshow=t.pg,x.onpagehide=t.pgh,(l=t.js)&&!h&&l(),L=s,g=o,8==(I=a)&&t.pf&&(J(s,"/bk.png",8),J(s,"/zo.png",8),J(s,"/zi.png",8),J(s,"/ts.gif",8))),r[0]=t,r[2]=s+o,r[3]=a):console.log("on click no cache spa ent"))}),onpopstate=function(e){var t,n,s,o,a,r,i=A.pathname,l=A.hash;null===(e=e.state)?console.log("spa leave 3 "+i):L==i&&g!=l?(g=l,console.log("spa leave 1 "+i)):e===u||e>=d.length?(console.log("spa leave 2 "+i),A.reload()):(s=(n=d[u])[0],a=(o=d[e])[3],r=o[0],(t=s.pgh)&&t({},L),L=i,g=l,m.removeChild(n[1]),H(s.style,r.style),j=H(j,r.pc),N=H(N,r.pf),u=e,I=a,m.appendChild(o[1]),x.y=r.y,onpageshow=t=r.pg,onpagehide=r.pgh,t&&t({persisted:1}))}}();