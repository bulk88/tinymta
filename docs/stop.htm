<link href=//tiles1.tinymta.us.to rel=dns-prefetch><link href=//tiles1.tinymta.us.to rel=preconnect><link href=//tiles2.tinymta.us.to rel=dns-prefetch><link href=//tiles2.tinymta.us.to rel=preconnect><meta content=0 name=mobileoptimized><meta content=no-referrer name=referrer><link href=tileMap.htm rel=prefetch>No javascript<script>var x=this.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),p,a,e=location.hash;function u(e,t){t={1:"EE352E",2:"EE352E",3:"EE352E",4:"00933C",5:"00933C","5X":"00933C",6:"00933C","6X":"00A65C",7:"B933AD","7X":"B933AD",A:"2850AD",B:"FF6319",C:"2850AD",D:"FF6319",E:"2850AD",F:"FF6319",FX:"FF6319",G:"6CBE45",GS:"6D6E71",J:"996633",L:"A7A9AC",M:"FF6319",N:"FCCC0A",Q:"FCCC0A",R:"FCCC0A",W:"FCCC0A",Z:"996633"}[t||e];return t?"<font color="+t+">"+e+"</font>":e}function l(e,t){for(t in e=e.split(/[: T-]/))e[t]=parseFloat(e[t]);return"Min "+Math.floor(Math.abs((new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0,0)-new Date)/1e3)/60)}function n(e){var t,r,a,n,o,i={},s,c=[2,3,4,5,6,7,8,9,0];if(e="object"==typeof(e=e.contents||e)?e:this.JSON?JSON.parse(e):eval("0,"+e),e.length){for(r in e=e[0],e.groups)for(r in a=e.groups[r],o=a.headsign,a.times)n=a.times[r],n.shortRouteName=a.route.shortName,(i[o]=i[o]||[]).push(n);for(r in i)i[r].sort(function(e,t){return e.departureFmt<t.departureFmt?-1:e.departureFmt>t.departureFmt?1:0});for(r in t=(new Date).toLocaleTimeString("en-US")+(p?" via JSONP":" via CORS")+"<br>Cur Sta: "+e.stop.name+"<br>",i)for(r in t+=r+"<br>",a=i[r],a)n=a[r],t+=l(n.departureFmt)+"-"+u(n.shortRouteName)+"-"+n.tripHeadsign+(void 0===n.track?"-Tk?":"")+(n.realtime?"-":"-NRT-")+function(){switch(n.realtimeState){case"SCHEDULED":return"SCH";case"UPDATED":return"UPD";case"CANCELED":return"CNX";case"ADDED":return"ADD";case"MODIFIED":return"MOD";default:return"UNK"}}()+((n=((n=n.departureDelay)<-43200?n+86400:n)/60|0)?(0<n?"-L":"-E")+Math.abs(n):"")+"<br>";for(r in t+="<br>Key: E2 (early 2 min) L3 (late 3 min)<br>NRT (not realtime)<br><br>",i="",e=e.alerts||[],e.sort(function(e,t){return e.effectiveStartDate<t.effectiveStartDate?-1:e.effectiveStartDate>t.effectiveStartDate?1:0}),e)n=e[r],n.alertType&&(a=n.alertType+"<br>"+(n.humanReadableActivePeriod||"Ongoing")+"<br>"+n.alertHeaderText.replace(/\[(\w+)\]/g,u)+(n.alertDescriptionText?"<br>"+n.alertDescriptionText.replace(/\[(\w+)\]/g,u):"")+"<br><br>",n.humanReadableActivePeriod?i+=a:t+=a);t+=i}else t="station not found";document.body.innerHTML+=t}function o(t){try{if(p)throw 0;x.open("get",a,1);try{x.responseType="json"}catch(r){}x.onreadystatechange=function(){4==x.readyState&&(200==x.status?"withCredentials"in x||x.getResponseHeader("Date")?n(x.response):o(1):alert("error HTTP status "+x.status))},t&&x.setRequestHeader("if-MODIFIED-since",new Date(0)),x.setRequestHeader("accept","application/json"),x.send()}catch(i){(i=document.createElement("script")).src="//api.allorigins.win/get?url=http%3A"+escape(a+"&_=")+(new Date).getTime()+"&callback=n",1<(p=document.getElementsByTagName("head")[0]).childNodes.length&&p.removeChild(p.childNodes[1]),p.appendChild(i)}document.body.innerHTML=e}""!=e&&"#"!=e&&(a="//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+e.substring(1,4),e="<a href=javascript:history.back()>Back</a> Refresh[<a href=javascript:o()>Fast</a> <a href=\"javascript:location.replace('stop_.htm"+e+"')\">Slow</a>] <a href="+a+">Raw</a> <a href=tileMap.htm#"+e.substring(4)+">Map</a><br>"),a?o():document.body.innerHTML="No station specified in url anchor."</script>