!function(){if(this.addEventListener&&document.querySelector){var c=document.documentElement.firstChild,e,t,d={},i=[],l=0;function n(e){var t,n,o,s="touchstart"===e.type,r,a,i,n;e=e.target,"FONT"===e.nodeName&&(e=e.parentNode),"A"!==e.nodeName||!s&&e.tmts||(n=e.hash,o=e.pathname,"/rstop.htm"===o&&window.sessionStorage,"/rstop.htm"==o||"/rtrain.htm"==o?(n=n.slice(1),window.S={t:Date.now(),s:n,f:function(e){a?e(a):i=e}},console.log("s"+Date.now()),fetch("/rstop.htm"==o?"//backend-unified.mylirr.org/arrivals/"+n:"//backend-unified.mylirr.org/locations/"+n+"?geometry=NONE",{headers:{"accept-version":"3.0"}}).then(function(e){i?i(e):a=e}),(spa=d[o])?("string"==typeof(r=spa.style)&&(t=document.createElement("style"),t.textContent=r,spa.style=t),"string"==typeof(r=spa.js)&&(eval(r),spa.js=onhashchange,onhashchange=null)):m(o),e.tmts=s):(o="/status.htm"===o?"//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":"/stop.htm"===o?"//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+n.slice(1,4):0,o&&(t=document.createElement("link"),t.rel="prefetch",t.href=o,t.crossOrigin="anonymous",c.appendChild(t),e.tmts=s)))}function m(o){try{fetch(o).then(function(e){e.text().then(function(e){var t,n=e.indexOf("<script>");-1!=n&&(t=d[o]={js:e.slice(n+="<script>".length,e.indexOf("<\/script>",n))},-1!=(n=e.indexOf("<style>")))&&(t.style=e.slice(n+="<style>".length,e.indexOf("</style>",n)))})})}catch(e){}}function o(e){+(e=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,0,1,2,3,4,5,6,7,8,9,,,,,,,,2,,,3,,,4,,,5,,,6,,,7,,,,8,,,9,,,,,,,,,,2,,,3,,,4,,,5,,,6,,,7,,,,8,,,9][e.keyCode])===e&&(e=document.querySelector('[accesskey="'+e+'"]'))&&e.click()}for(this.fetch||this.f||(f=1,c.appendChild(document.createElement("script")).src="/f.js"),addEventListener("touchstart",n,{passive:!0}),addEventListener("mousedown",n,{passive:!0}),addEventListener("click",function(e){var t,n,o,s=e.target,r,a;"FONT"===s.nodeName&&(s=s.parentNode),"A"!==s.nodeName||"/rstop.htm"!=(r=s.pathname)&&"/rtrain.htm"!=r||!(n=d[r])||(a=i[l]||(i[l]=[]),(o=document.documentElement.firstChild.getElementsByTagName("style")).length&&(o=o[0],a[1]=o.parentNode.removeChild(o)),a[0]=document.documentElement.removeChild(document.body),l++,i.length=l,document.documentElement.appendChild(document.createElement("body")),window.history.pushState(l,0,s.href),e.preventDefault(),n=d[r],(t=n.style)&&("string"==typeof t&&(o=document.createElement("style"),o.textContent=t,n.style=o),document.documentElement.firstChild.appendChild(n.style)),"string"==typeof(t=n.js)?(eval("!(function(){"+t+"})()"),n.js=onhashchange,onhashchange=null):(fn=n.js,fn()))}),onpopstate=function(e){((e=0|e.state)===l||e>=i.length)&&location.reload();var t,n=i[l];n||(i[l]=n=[]),(t=document.documentElement.firstChild.getElementsByTagName("style")).length&&(t=t[0],n[1]=t.parentNode.removeChild(t)),n[0]=document.documentElement.removeChild(document.body),(n=i[l=e])[1]&&document.documentElement.firstChild.appendChild(n[1]),document.documentElement.appendChild(n[0]),onpageshow&&onpageshow({persisted:1})},addEventListener("keyup",o,0),addEventListener("keypress",o,0),e=c.firstChild;e;)"preconnect"===e.rel&&(t=document.createElement("link"),t.rel="dns-prefetch",t.href=e.href,c.appendChild(t)),e=e.nextElementSibling}this.ScriptEngineMajorVersion&&(ScriptEngineMajorVersion()<5||5===ScriptEngineMajorVersion()&&ScriptEngineMinorVersion()<5)&&(onload=function(){for(var e,t,n,o,s=document.links,r=s.length,a=0;a<r;a++)e=(t=s[a]).pathname,n?n===e&&(t.pathname=o):(t=e.length-8,"s"!==(o=e.charAt(t))&&"a"!==o||!~e.indexOf("s"===o?"stop":"atus",t)||(o=(n=e).slice(0,-4)+"ie50.htm",a--));onload=null})}();