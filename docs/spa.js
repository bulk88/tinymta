!function(){"use strict";var d,E,j,w,O,x,A,S=window,T=location,m=document.documentElement,q=m.firstChild,L={},u=0,F=T.pathname,g=T.hash,z=T.origin,D=J(F),Q={headers:{"accept-version":"3.0"}},B=[,[0,5,12],[,,!Object.values],[3,8,4],[2,7,4],[0,4,2],[0,4,2],[1,6,2],[,9,!S.requestIdleCallback],[]],a={},I=["//backend-unified.mylirr.org","//otp-mta-prod.camsys-apps.com","//collector-otp-prod.camsys-apps.com",["//tiles1.tinymta.us.to","//tiles2.tinymta.us.to"],"/rstop.htm","/rtrain.htm","/stop.htm","/status.htm","/tileMap.htm",["/bk.png","/zo.png","/zi.png","/ts.gif"]],M=[["/f.js"],["/1p.js",function(){w=(w=history.pushState.p1[0])||0,delete history.pushState.p1}],["/fav.js"],["/dumb.js"]],P=["style","body","html","div",,"link",0],Y=S.requestIdleCallback||(S.requestAnimationFrame?function(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}:function(e){return setTimeout(e,40)});function G(){for(var e,t=0;t<P.length;t++)(e=P[t])[1]||(e[1]=e[0].cloneNode(0))}S.fetch||S.f||(f=1,q.appendChild(document.createElement("script")).src="/f.js");for(var e,t,n,o,r={body:document.body,style:q.getElementsByTagName("style")[0],y:S.y},c=[r,r.body,F+g,D],s=0;s<P.length;s++)t=(e=P[s])?document.createElement(e):t.cloneNode(0),P[s]=[t];if(P[6][0].rel="prefetch",(t=P[5][0]).rel="preconnect",t.crossOrigin="anonymous",G(),(n=q.querySelectorAll('link[rel="preconnect"]')).length){if(1<n.length){for(o=P[3][1],s=P[3][1]=0;s<n.length;s++)o.appendChild(n[s]);q.appendChild(o)}else o=n[0];E=I[B[D][0]]=r.pc=o}if((n=q.querySelectorAll('link[rel="prefetch"]')).length){if(1<n.length){for(o=P[4][1],s=P[4][1]=0;s<n.length;s++)o.appendChild(n[s]);q.appendChild(o)}else o=n[0];j=I[B[D][1]]=r.pf=o}function J(e){var t;switch(e){case"/tileMap.htm":t=8;break;case"/stations.htm":t=7;break;case"/mn/stations.htm":t=6;break;case"/li/stations.htm":t=5;break;case"/":t=4;break;case"/stop.htm":t=3;break;case"/status.htm":t=2;break;case"/rstop.htm":t=1;break;case"/rtrain.htm":t=0;break;default:t=9}return t}function i(e){var n,t,o,a,r,s,i,l="touchstart"===e.type;if("A"===(e="FONT"===(e=e.target).nodeName?e.parentNode:e).nodeName&&(l||!e.tmts)&&e.origin===z&&(n=e.hash,(v="/"==(v=e.pathname).charAt(0)?v:"/"+v)!==T.pathname)){if((i=J(v))<4&&(n=n.slice(1),S.S={t:Date.now(),s:n,f:function(e){r?e(r):s=e}},fetch(3===i?"//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+n.slice(0,3):2===i?"//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":1===i?"//backend-unified.mylirr.org/arrivals/"+n:"//backend-unified.mylirr.org/locations/"+n+"?geometry=NONE",1<i?{}:Q).then(function(e){var t,n;s?s(e):r=200==e.status?(e.json().then(function(e){t?t(e):n=e}),{status:200,json:function(){return{then:function(e){n?setTimeout(e,0,n):t=e}}}}):e}),2===i)&&(R=0,O=1,q.appendChild(document.createElement("script")).src="routes.js"),8===i&&(t=function(e,t){t?o.pr=t:(S.S=o={t:Date.now(),s:n,pt:i,pr:e.body},e.js(0,n))}),!(a=L[v])||a.pgh&&void 0===w){var c,p,h,d,f,m,u,g,y=v,v=i,b=t,C={},k=F,N=D;try{if(!x){for(f=z.length,h={},p=0;p<M.length;p++)h[M[p][0]]=p+1;for(c=q.getElementsByTagName("script"),p=0;p<c.length;p++)d=(d=c[p]).src.slice(f),(d=h[d])&&((m=M[--d][1])&&m(),M[d]=0);x=1}if(c=B[v]){for(h=c[2],p=0;h;p++)1&h&&M[p]&&(!function(t,n){var o=document.createElement("script");o.onerror=o.onload=function(e){"error"==e.type?q.removeChild(o):((e=M[t][1])&&e(),M[t]=0,o.onerror=o.onload=0),--n[0]||n[1]()},o.src=M[t][0],q.appendChild(o),n[0]++}(p,u=u||[0,function(){1!==g&&g(),g=0}]),g=1),h>>=1;p=c[0],(h=I[p])&&h.length&&(h=H(p,0)),E=K(E,C.pc=h),p=c[1],(h=I[p])&&h.length&&(h=H(p,1)),j=K(j,C.pf=h),Y(G)}fetch(y,{},1).then(function(e){e.text().then(function(e){var t,n,o,a,r,s,i,l;-1!=(t=e.indexOf("<script async defer src="))?"/1p.js"==(r=e.slice(t+=24,t=e.indexOf(">",t)))&&(l=1):t=0,-1!=(t=e.indexOf("<style>",t))?(r=e.slice(t+=7,t=e.indexOf("</style>",t)),t+=8,a=0,":root{color-scheme:light dark}"!=r||(a=A)||(s=1),a||(a=P[0][1],P[0][1]=0,Y(G),a.textContent=r,s&&(A=a)),C.style=a):t=0,-1!=(n=e.indexOf("<script>",t))&&(r=S.y,s=S.onpageshow,S.onpageshow=null,o=e.indexOf("<\/script>",n+8),Function(e.slice(n+8,o))(),(i=(a=C.js=onhashchange).body)&&delete a.body,C.y=S.y,C.pg=S.onpageshow,S.y=r,S.onpageshow=s,onhashchange=null,b)&&b(C),-1==e.indexOf("No javascript",t)&&(e=-1!=n?e.slice(t,n)+e.slice(o+9):e.slice(t),a=P[2][1],P[2][1]=0,Y(G),a.innerHTML=e,C.body=a=a.lastElementChild,b&&b(0,a),i)&&i(a),g?g=function(){l&&(C.pgh=w),L[y]=C,Z(k,y,N)}:(l&&(C.pgh=w),L[y]=C,Z(k,y,N))})})}catch(e){}}else t&&t(a);e.tmts=l}}function Z(s,i,l){a[i]=1,Y(function(){var e,t,n,o,a=z.length,r=L[s];if(e=r.pf)if("DIV"===e.nodeName){for(n=e.firstChild;n;){if(o=n.nextElementSibling,n.href.slice(a)==i){e.removeChild(n);break}n=o}e.firstChild||((t=e.parentNode)&&t.removeChild(e),delete r.pf,j===e&&(j=null),I[B[l][1]]=null)}else e.href.slice(a)==i&&((t=e.parentNode)&&t.removeChild(e),delete r.pf,j===e&&(j=null),I[B[l][1]]=null)})}function l(e,t){var n,o;return e&&a[t]?0:((o=(n=P[5+e])[1])?n[1]=0:o=n[0].cloneNode(0),e?".png"!=(n=t.slice(-4))&&".gif"!=n||(o.rel="preload",o.as="image"):t.indexOf("//tiles")||(o.crossOrigin=null),o.href=t,o)}function H(e,t){var n,o,a,r=I[e];if("string"==typeof r)a=l(t,r);else{for(a=P[3+t][1],n=P[3+t][1]=0;n<r.length;n++)(o=l(t,r[n]))&&a.appendChild(o);a.firstChild||(a=0)}return I[e]=a}function K(e,t){return e!==t&&(e&&t?q.replaceChild(t,e):(e&&q.removeChild(e),t&&q.appendChild(t))),t}Y(G),r.pg=S.onpageshow,r.pgh=S.onpagehide,L[F]=r,d=[c],history.state!==u&&history.replaceState(u,0,T.href),addEventListener("touchstart",i,{passive:!0}),addEventListener("mousedown",i,{passive:!0}),addEventListener("click",function(e){console.log(e);var t,n,o,a,r,s,i,l,c,p,h=e.target;"A"===(h="FONT"===h.nodeName?h.parentNode:h).nodeName&&h.origin===z&&(r=J(o="/"==(o=h.pathname).charAt(0)?o:"/"+o),(t=L[o])?(a=h.hash,i=o===T.pathname&&a!=T.hash,(l=(c=(s=d[u])[0]).pgh)&&l({},F),2===r&&(O?O=0:(R=0,O=1,q.appendChild(document.createElement("script")).src="routes.js")),i||(m.removeChild(s[1]),K(c.style,t.style),E=K(E,t.pc),j=K(j,t.pf)),s=d[++u]=[],(c=S.S)&&c.pr&&(S.S=0,c.pt===r)&&c.s===a&&Date.now()-c.t<3e3&&(p=c.pr),8!=r&&(n=(n=S.T)&&n.GC)&&n(),d.length=u+1,p?n=p:(n=t.body)||(n=P[1][1],P[1][1]=0,Y(G)),s[1]=i?n:m.appendChild(n),history.pushState(u,0,h.href),i||(e.preventDefault(),S.y=t.y,S.onpageshow=t.pg,S.onpagehide=t.pgh,(l=t.js)&&!p&&l(),F=o,g=a,8==(D=r)&&t.pf&&(Z(o,"/bk.png",8),Z(o,"/zo.png",8),Z(o,"/zi.png",8),Z(o,"/ts.gif",8))),s[0]=t,s[2]=o+a,s[3]=r,console.log("on click have ent ",performance.now())):console.log("on click no cache spa ent ",performance.now()))}),onpopstate=function(e){var t,n,o,a,r,s,i=T.pathname,l=T.hash;null===(e=e.state)?console.log("spa leave 3 "+i):F==i&&g!=l?(g=l,console.log("spa leave 1 "+i)):e===u||e>=d.length?(console.log("spa leave 2 "+i),T.reload()):(o=(n=d[u])[0],r=(a=d[e])[3],s=a[0],(t=o.pgh)&&t({},F),F=i,g=l,m.removeChild(n[1]),K(o.style,s.style),E=K(E,s.pc),j=K(j,s.pf),u=e,D=r,m.appendChild(a[1]),S.y=s.y,onpageshow=t=s.pg,onpagehide=s.pgh,t&&t({persisted:1}))}}();