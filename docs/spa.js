!function(){"use strict";var d,b,C,k,E,N,O,j=window,x=location,f=document.documentElement,w=f.firstChild,A={},u=0,S=x.pathname,m=x.hash,T=x.origin,q=M(S),G={headers:{"accept-version":"3.0"}},L=[,[0,5,12],[,,!Object.values],[3,8,4],[2,7,4],[0,4,2],[0,4,2],[1,6,2],[,9,!j.requestIdleCallback],[]],a={},F=["//backend-unified.mylirr.org","//otp-mta-prod.camsys-apps.com","//collector-otp-prod.camsys-apps.com",["//tiles1.tinymta.us.to","//tiles2.tinymta.us.to"],"/rstop.htm","/rtrain.htm","/stop.htm","/status.htm","/tileMap.htm",["/bk.png","/zo.png","/zi.png","/ts.gif"]],z=[["/f.js"],["/1p.js",function(){k=(k=history.pushState.p1[0])||null,delete history.pushState.p1}],["/fav.js"],["/dumb.js"]],D=["style","body","html","div",,"link",0],B=j.requestIdleCallback||(j.requestAnimationFrame?function(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}:function(e){return setTimeout(e,40)});function I(){for(var e,t=0;t<D.length;t++)(e=D[t])[1]||(e[1]=e[0].cloneNode(0))}j.fetch||j.f||(j.f=1,w.appendChild(document.createElement("script")).src="/f.js");for(var e,t,n,r,o={body:document.body,style:w.getElementsByTagName("style")[0],y:j.y},p=[o,o.body,S+m,q],h=T.length,i=0;i<D.length;i++)t=(e=D[i])?document.createElement(e):t.cloneNode(0),D[i]=[t];if(D[6][0].rel="prefetch",(t=D[5][0]).rel="preconnect",t.crossOrigin="anonymous",I(),(n=w.querySelectorAll('link[rel="preconnect"]')).length){if(1<n.length){for(r=D[3][1],i=D[3][1]=0;i<n.length;i++)r.appendChild(n[i]);w.appendChild(r)}else r=n[0];b=F[L[q][0]]=o.pc=r}if((n=w.querySelectorAll('link[rel="prefetch"]')).length){if(1<n.length){for(r=D[4][1],i=D[4][1]=0;i<n.length;i++)r.appendChild(n[i]);w.appendChild(r)}else r=n[0];C=F[L[q][1]]=o.pf=r}for(r={},i=0;i<z.length;i++)r[z[i][0]]=i+1;for(n=w.getElementsByTagName("script"),i=0;i<n.length;i++)(t=r[t=(t=n[i]).src.slice(h)])&&((e=z[--t][1])&&e(),z[t]=0);function M(e){var t;switch(e){case"/tileMap.htm":t=8;break;case"/stations.htm":t=7;break;case"/mn/stations.htm":t=6;break;case"/li/stations.htm":t=5;break;case"/":t=4;break;case"/stop.htm":t=3;break;case"/status.htm":t=2;break;case"/rstop.htm":t=1;break;case"/rtrain.htm":t=0;break;default:t=9}return t}function s(e){var n,t,r,a,o=e.target;if(!o.window&&"A"===(o="FONT"===o.nodeName?o.parentNode:o).nodeName&&o.href!=N&&(N=o.href,!o.href.indexOf(T))&&(n=o.hash,(t="/"==(t=o.pathname).charAt(0)?t:"/"+t)!==x.pathname)){var i,s,l=M(t);if("focus"!=e.type?(l<4&&(n=n.slice(1),j.S={t:Date.now(),s:n,f:function(e){i?e(i):s=e}},fetch(3===l?"//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+n.slice(0,3):2===l?"//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":1===l?"//backend-unified.mylirr.org/arrivals/"+n:"//backend-unified.mylirr.org/locations/"+n+"?geometry=NONE",1<l?{}:G).then(function(e){var t,n;s?s(e):i=200==e.status?(e.json().then(function(e){t?t(e):n=e}),{status:200,json:function(){return{then:function(e){n?setTimeout(e,0,n):t=e}}}}):e}),2===l)&&(R=0,E=1,w.appendChild(document.createElement("script")).src="routes.js"),8===l&&(r=function(e,t){t?a.pr=t:(j.S=a={t:Date.now(),s:n,pt:l,pr:e.body},e.js(0,n))})):N="",!(o=A[t])||o.pgh&&void 0===k){if(0!==o){A[t]=0;var c,p,h,d,f,u=t,e=l,m=r,g={},y=S,v=q;try{if(c=L[e])for(h=c[2],p=0;h;p++)1&h&&z[p]&&(!function(t,n){var r=document.createElement("script");r.onerror=r.onload=function(e){"error"==e.type?w.removeChild(r):((e=z[t][1])&&e(),z[t]=0,r.onerror=r.onload=0),--n[0]||n[1]()},r.src=z[t][0],w.appendChild(r),n[0]++}(p,d=d||[0,function(){1!==f&&f(),f=0}]),f=1),h>>=1;fetch(u,{},1).then(function(e){e.text().then(function(e){var t,n,r,a,o,i,s;-1!=(t=e.indexOf("<script async defer src="))?"/1p.js"==(a=e.slice(t+=24,t=e.indexOf(">",t)))&&(s=1):t=0,-1!=(t=e.indexOf("<style>",t))?(a=e.slice(t+=7,t=e.indexOf("</style>",t)),t+=8,r=0,":root{color-scheme:light dark}"!=a||(r=O)||(o=1),r||(r=D[0][1],D[0][1]=0,B(I),r.textContent=a,o&&(O=r)),g.style=r):t=0,-1!=(o=e.indexOf("<script>",t))&&(a=j.y,n=e.indexOf("<\/script>",o+8),Function(e.slice(o+8,n))(),(i=(r=g.js=onhashchange).body)&&delete r.body,g.y=j.y,j.y=a,onhashchange=null,m)&&m(g),-1==e.indexOf("No javascript",t)&&(e=-1!=o?e.slice(t,o)+e.slice(n+9):e.slice(t),r=D[2][1],D[2][1]=0,B(I),r.innerHTML=e,g.body=r=r.lastElementChild,m&&m(0,r),i)&&i(r),f?f=function(){s&&(g.pgh=k),A[u]=g,P(y,u,v)}:(s&&(g.pgh=k),A[u]=g,P(y,u,v))})}),c&&(p=c[0],(h=F[p])&&h.length&&(h=J(p,0)),b=Y(b,g.pc=h),p=c[1],(h=F[p])&&h.length&&(h=J(p,1)),C=Y(C,g.pf=h),B(I))}catch(e){}}}else r&&r(o)}}function l(e){var t,n,r,a,o,i,s,l,c,p,h=e.target;N="","A"===(h="FONT"===h.nodeName?h.parentNode:h).nodeName&&!h.href.indexOf(T)&&(o=M(r="/"==(r=h.pathname).charAt(0)?r:"/"+r),t=A[r])&&(a=h.hash,s=r===x.pathname&&a!=x.hash,(l=(c=(i=d[u])[0]).pgh)&&l({},S),2===o&&(E?E=0:(R=0,E=1,w.appendChild(document.createElement("script")).src="routes.js")),s||(f.removeChild(i[1]),Y(c.style,t.style),b=Y(b,t.pc),C=Y(C,t.pf)),i=d[++u]=[],(c=j.S)&&c.pr&&(j.S=0,c.pt===o)&&c.s===a&&Date.now()-c.t<3e3&&(p=c.pr),8!=o&&(n=(n=j.T)&&n.GC)&&n(),d.length=u+1,p?n=p:(n=t.body)||(n=D[1][1],D[1][1]=0,B(I)),i[1]=s?n:f.appendChild(n),history.pushState(u,0,h.href),s||(e.preventDefault(),j.y=t.y,j.onpageshow=t.pg,j.onpagehide=t.pgh,(l=t.js)&&!p&&l(),S=r,m=a,8==(q=o)&&t.pf&&(P(r,"/bk.png",8),P(r,"/zo.png",8),P(r,"/zi.png",8),P(r,"/ts.gif",8))),i[0]=t,i[2]=r+a,i[3]=o)}function P(i,s,l){a[s]=1,B(function(){var e,t,n,r,a=T.length,o=A[i];if(e=o.pf)if("DIV"===e.nodeName){for(n=e.firstChild;n;){if(r=n.nextElementSibling,n.href.slice(a)==s){e.removeChild(n);break}n=r}e.firstChild||((t=e.parentNode)&&t.removeChild(e),delete o.pf,C===e&&(C=null),F[L[l][1]]=null)}else e.href.slice(a)==s&&((t=e.parentNode)&&t.removeChild(e),delete o.pf,C===e&&(C=null),F[L[l][1]]=null)})}function c(e,t){var n,r;return e&&a[t]?0:((r=(n=D[5+e])[1])?n[1]=0:r=n[0].cloneNode(0),e?".png"!=(n=t.slice(-4))&&".gif"!=n||(r.rel="preload",r.as="image"):t.indexOf("//tiles")||(r.crossOrigin=null),r.href=t,r)}function J(e,t){var n,r,a,o=F[e];if("string"==typeof o)a=c(t,o);else{for(a=D[3+t][1],n=D[3+t][1]=0;n<o.length;n++)(r=c(t,o[n]))&&a.appendChild(r);a.firstChild||(a=0)}return F[e]=a}function Y(e,t){return e!==t&&(e&&t?w.replaceChild(t,e):(e&&w.removeChild(e),t&&w.appendChild(t))),t}B(I),o.pg=j.onpageshow,o.pgh=j.onpagehide,A[S]=o,d=[p],history.state!==u&&history.replaceState(u,0,x.href),addEventListener("touchstart",s,{passive:!0}),addEventListener("mousedown",s,{passive:!0}),addEventListener("focus",s,{passive:!0,capture:!0}),addEventListener("click",l),(onpopstate=function(e){var t,n,r,a,o,i,s=x.pathname,l=x.hash;null!==(e=e.state)&&(S==s&&m!=l?m=l:((t=(r=(n=d[u])[0]).pgh)&&t({},S),e===u||e>=d.length?(j.onpagehide=null,x.reload()):(o=(a=d[e])[3],i=a[0],S=s,m=l,f.removeChild(n[1]),Y(r.style,i.style),b=Y(b,i.pc),C=Y(C,i.pf),u=e,q=o,f.appendChild(a[1]),j.y=i.y,j.onpageshow=t=i.pg,j.onpagehide=i.pgh,t&&t({persisted:1}))))}).p=[l,s]}();