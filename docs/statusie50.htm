<meta content=0 name=mobileoptimized><meta content=no-referrer name=referrer><link href="//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP"rel=preload crossorigin as=fetch><link href=//collector-otp-prod.camsys-apps.com rel=preconnect crossorigin><link href=//collector-otp-prod.camsys-apps.com rel=dns-prefetch><script async src=routes.js></script><script>var R</script><style>:root{color-scheme:light dark}</style>No javascript<script>var A,t,B,r=["00933c","ff6319","fccc0a","6d6e71","ee352e","286ded","0078c6","996633","b933ad"],n={F:1,D:1,M:1,FX:1,B:1,N:2,Q:2,R:2,W:2,H:3,GS:3,FS:3,S:3,"1":4,"3":4,"2":4,A:5,C:5,E:5,SI:6,SIR:6,J:7,Z:7,"7X":8,"7":8,G:"6cbe45",L:"a7a9ac"},a="//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP",o="<a href=javascript:history.back()>Back</a> Refresh[<a href=\"javascript:y();document.documentElement.firstChild.appendChild(document.createElement('script')).src ='routes.js';0\">Fast</a> <a href=\"javascript:location.replace('statusie50_.htm')\">Slow</a>] <a href="+a+">Raw</a><br>";function e(){this.y=y,Object.values?y():document.documentElement.firstChild.appendChild(document.createElement("script")).src="f.js"}function y(t){function e(t){200!=t.status?alert("error http status "+t.status):t.json().then(function(t,e){A=e,B=i(t.entity),R?c():R=c})}(t=window.S)?(window.S=0,t.s===location.hash.slice(1)&&t.f(e)):fetch(a).then(e),document.body.innerHTML=o}function O(t,e){return"<font color="+("string"!=typeof(t=n[e])?n[e]=r[0|t]:t)+">["+e+"]</font>"}function i(t){for(var e,r,n,a,o,i,c,s={},l=Math.round(Date.now()/1e3),u=0;u<t.length;u++){e=t[u],r=0;try{if((n=e.alert["transit_realtime.mercury_alert"])&&e.alert.active_period){var h="undefined"!=typeof n.display_before_active;if(~e.id.indexOf("planned_work")&&!h)r=0;else for(o=e.alert.active_period,a=0;a<o.length;a++)(i=o[a]).start&&!r&&(c=i.start,h&&(c-=n.display_before_active),c<l&&(r=1),i.end)&&l>i.end&&(r=0)}}catch(d){}if(r)for(o=e.alert.informed_entity,a=0;a<o.length;a++)(r=(i=o[a]).route_id)&&(r=r.toLowerCase(),(c=(c=s[i.agency_id]=s[i.agency_id]||{})[r]=c[r]||[]).push(e))}return s}function I(t){var e,r,n,a,o;if(t)for(o=(t=t.translation).length;n=t[--o];){if(a=n.text,"en-html"===(n=n.language))return a;"en"===n?e=a:r=a}return e||r||""}function N(t){return t?t.replace(/(\xE2\x80\u0152)|(<p style="min-height:10px"><\/p>)|(^<p>)|((<p><\/p>|<\/p>)+$)/g,"").replace(/\[(\w+)\]/g,O):""}function c(){function i(t,e){return e[1]-t[1]}function t(t,s,l){return t.forEach(function(t){var e,r,n,a,o,i=(""+t[0]).toLowerCase(),c=l[t[2]||0];if(e=(e=s[c])&&e[i]){for(r=0;r<e.length;r++)a=(n=e[r]).alert.informed_entity.find(function(t){return t.agency_id===c&&t.route_id.toLowerCase()==i?1:0}),e[r]=[(o=n.alert["transit_realtime.mercury_alert"])?o.alert_type:"No Status Summary",(o=-10,o=(a=(a=(a=a)["transit_realtime.mercury_entity_selector"])&&a.sort_order)?(o=a.split(":")[2])?+o:100:o),I(n.alert.header_text),I(n.alert.description_text),I(n.alert["transit_realtime.mercury_alert"].human_readable_active_period)];t[4]=e}}),t}function e(t){t.sort(function(t,e){return t[1]-e[1]})}function r(t,e){for(var r,n,a=0;a<e.length;a++){var o=e[a],i=o[4]?o[4][0][0]:"On or Close",c="On or Close"!=i,s="";if(c){for(s=o[4],n=0;n<s.length;n++)r=s[n],s[n]="<b>"+r[0]+"</b><br>"+N(r[2])+(r[4]?"<br>"+r[4]:"")+"<br>"+N(r[3]);s=s.join("<hr>")}e[a]="<hr>"+(c?"<details><summary>":"")+"<font color="+o[1]+">"+(o[3]||("+"==(n=o[0].indexOf("BX")?o[0]:"Bx"+o[0].slice(2)).slice(-1)?n.slice(0,-1)+"-SBS":n))+"</font> "+i+(c?"</summary>"+s+"</details>":"")}return"<hr>"+t+"<br>"+e.join("")}for(var n,a,o,c,s,l,u,h,d,m,p=(new Date).toLocaleTimeString("en-US")+(A?" via JSONP":" via CORS")+"<br>",_=[],g=[],b=[],v=[],C=[],j=(l=v,u=C,t(R[2],B,["MTASBWY"]).forEach(function(t){(t[4]?l:u).push(t)}),e(l),e(u),h=g,d=b,t(R[1],B,["LI","MNR"]).forEach(function(t){(t[2]?h:d).push(t),t[4]&&t[4].sort(i)}),m=_,t(R[0],B,["MTA NYCT","MTABC"]).forEach(function(t){t[4]&&(t[4].sort(i),m.push(t))}),function(t){for(var e,r,n,a={},o=0;o<t.length;o++)(e=t[o])[4].sort(i),(r=a[r=(n=e[4][0])[0]]=a[r]||[r,n[1],[]])[2].push(e);return Object.values(a).sort(i)}(v)),M=0;M<j.length;M++)for(p+="<hr>"+(n=j[M])[0]+"<br>",n=n[2],o=0;o<n.length;o++){for(p+="<details><summary>"+O(0,(a=n[o])[0])+"</summary>",a=a[4],c=0;c<a.length;c++)s=a[c],a[c]="<b>"+s[0]+"</b><br>"+N(s[2])+(s[4]?"<br>"+s[4]:"")+"<br>"+N(s[3]);p=p+a.join("<hr>")+"</details>"}if(C.length)for(p+="<hr>No Active Alerts<br>",M=0;M<C.length;M++)p+=O(0,C[M][0])+" ";p=(p=(p+=r("Metro-North Railroad",g))+r("Long Island Rail Road",b))+r("Bus",_),document.body.innerHTML+=p,R=B=0}onhashchange=e,"/status.htm"!=location.pathname&&"/statusie50_.htm"!=location.pathname||e()</script>