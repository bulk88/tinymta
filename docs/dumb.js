!function(){var e,t,E,h,d,N,m,j,S,O,x,A,T,L,q,i,M,F,I,z,u=document.documentElement,D=u.firstChild;function V(){for(var e,t=0;t<I.length;t++)(e=I[t])[1]||(e[1]=e[0].cloneNode(0))}function P(e){var t;switch(e){case"/tileMap.htm":t=8;break;case"/stations.htm":t=7;break;case"/mn/stations.htm":t=6;break;case"/li/stations.htm":t=5;break;case"/":t=4;break;case"/stop.htm":t=3;break;case"/status.htm":t=2;break;case"/rstop.htm":t=1;break;case"/rtrain.htm":t=0;break;default:t=9}return t}function n(e){var n,t,o,i,a,r,s,l="touchstart"===e.type;if("A"===(e="FONT"===(e=e.target).nodeName?e.parentNode:e).nodeName&&(l||!e.tmts)&&e.origin===j&&(n=e.hash,(v="/"==(v=e.pathname).charAt(0)?v:"/"+v)!==location.pathname)){if(10<=v.length&&v.lastIndexOf("/jsrdt.htm")===v.length-10&&(e.pathname=v=v.replace("/jsrdt.htm","/js/rt.htm")),(i=P(v))<4&&(n=n.slice(1),window.S={t:Date.now(),s:n,f:function(e){r?e(r):s=e}},fetch(3===i?"//otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+n.slice(0,3):2===i?"//collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":1===i?"//backend-unified.mylirr.org/arrivals/"+n:"//backend-unified.mylirr.org/locations/"+n+"?geometry=NONE",1<i?{}:L).then(function(e){var t,n;s?s(e):r=200==e.status?(e.json().then(function(e){t?t(e):n=e}),{status:200,json:function(){return{then:function(e){n?setTimeout(e,0,n):t=e}}}}):e}),2===i)&&(R=0,T=1,D.appendChild(document.createElement("script")).src="routes.js"),8===i&&(t=function(e,t){t?o.pr=t:(window.S=o={t:Date.now(),s:n,pt:i,pr:e.body},e.js(0,n))}),!(a=E[v])||a.p1&&void 0===A){var c,p,h,d,f,m,u,g=v,v=i,w=t,C={},k=N,b=S;try{-1!=g.indexOf("/stations")&&(C.p1=m=1,void 0===A?(onpopstate.o=f=function(e,t){t?D.removeChild(d):A=e||0,d.onerror=0,onpopstate.o=0,u?u():u=1},(d=document.createElement("script")).onerror=function(){f(0,1)},d.src="1p.js",D.appendChild(d)):u=1),(c=q[v])&&(p=c[0],(h=M[p])&&h.length&&(h=Y(p,0)),O=G(O,C.pc=h),p=c[1],(h=M[p])&&h.length&&(h=Y(p,1)),x=G(x,C.pf=h),z(V)),fetch(g,{},1).then(function(e){e.text().then(function(e){var t,n,o,i,a,r,s;-1!=(t=e.indexOf("<style>"))?(a=e.slice(t+=7,t=e.indexOf("</style>",t)),t+=8,i=0,":root{color-scheme:light dark}"!=a||(i=F)||(r=1),i||(i=I[0][1],I[0][1]=0,z(V),i.textContent=a,r&&(F=i)),C.style=i):t=0,-1!=(n=e.indexOf("<script>",t))&&(a=y,r=window.onpageshow,window.onpageshow=null,o=e.indexOf("<\/script>",n+8),Function(e.slice(n+8,o))(),(s=(i=C.js=onhashchange).body)&&delete i.body,C.y=y,C.pg=window.onpageshow,y=a,window.onpageshow=r,onhashchange=null,w)&&w(C),-1==e.indexOf("No javascript",t)&&(e=-1!=n?e.slice(t,n)+e.slice(o+9):e.slice(t),i=I[2][1],I[2][1]=0,z(V),i.innerHTML=e,C.body=i=i.lastElementChild,w&&w(0,i),s)&&s(i),!m||u?(E[g]=C,B(k,g,b)):u=function(){E[g]=C,B(k,g,b)}})})}catch(e){}}else t&&t(a);e.tmts=l}}function B(r,s,l){i[s]=1,z(function(){var e,t,n,o,i=location.origin.length,a=E[r];if(e=a.pf)if("DIV"===e.nodeName){for(n=e.firstChild;n;){if(o=n.nextElementSibling,n.href.slice(i)==s){e.removeChild(n);break}n=o}e.firstChild||((t=e.parentNode)&&t.removeChild(e),delete a.pf,x===e&&(x=null),M[q[l][1]]=null)}else e.href.slice(i)==s&&((t=e.parentNode)&&t.removeChild(e),delete a.pf,x===e&&(x=null),M[q[l][1]]=null)})}function r(e,t){var n,o;return e&&i[t]?0:((o=(n=I[5+e])[1])?n[1]=0:o=n[0].cloneNode(0),e?".png"!=(n=t.slice(-4))&&".gif"!=n||(o.rel="preload",o.as="image"):t.indexOf("//tiles")||(o.crossOrigin=null),o.href=t,o)}function Y(e,t){var n,o,i,a=M[e];if("string"==typeof a)i=r(t,a);else{for(i=I[3+t][1],n=I[3+t][1]=0;n<a.length;n++)(o=r(t,a[n]))&&i.appendChild(o);i.firstChild||(i=0)}return M[e]=i}function G(e,t){return e!==t&&(e&&t?D.replaceChild(t,e):(e&&D.removeChild(e),t&&D.appendChild(t))),t}function o(e){32===e.keyCode&&"INPUT"===e.target.nodeName||+(e=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,0,1,2,3,4,5,6,7,8,9,,,,,,,,2,,,3,,,4,,,5,,,6,,,7,,,,8,,,9,,,,,,,,,,2,,,3,,,4,,,5,,,6,,,7,,,,8,,,9][e.keyCode])===e&&(e=document.querySelector('[accesskey="'+e+'"]'))&&e.click()}for(history.pushState&&(E={},d=0,N=location.pathname,m=location.hash,j=location.origin,S=P(N),L={headers:{"accept-version":"3.0"}},q=[,[0,5],,[3,8],[2,7],[0,4],[0,4],[1,6],[,9],[]],i={},M=["//backend-unified.mylirr.org","//otp-mta-prod.camsys-apps.com","//collector-otp-prod.camsys-apps.com",["//tiles1.tinymta.us.to","//tiles2.tinymta.us.to"],"/rstop.htm","/rtrain.htm","/stop.htm","/status.htm","/tileMap.htm",["/bk.png","/zo.png","/zi.png","/ts.gif"]],I=["style","body","html","div",,"link",0],z=this.requestIdleCallback||(this.requestAnimationFrame?function(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}:function(e){return setTimeout(e,40)}),this.fetch||this.f||(f=1,D.appendChild(document.createElement("script")).src="/f.js"),function(){for(var e,t,n,o,i={body:document.body,style:D.getElementsByTagName("style")[0],y:this.y},a=[i,i.body,N+m,S],r=0;r<I.length;r++)t=(e=I[r])?document.createElement(e):t.cloneNode(0),I[r]=[t];if(I[6][0].rel="prefetch",(t=I[5][0]).rel="preconnect",t.crossOrigin="anonymous",V(),(n=D.querySelectorAll('link[rel="preconnect"]')).length){if(1<n.length){for(o=I[3][1],r=I[3][1]=0;r<n.length;r++)o.appendChild(n[r]);D.appendChild(o)}else o=n[0];O=M[q[S][0]]=i.pc=o}if((n=D.querySelectorAll('link[rel="prefetch"]')).length){if(1<n.length){for(o=I[4][1],r=I[4][1]=0;r<n.length;r++)o.appendChild(n[r]);D.appendChild(o)}else o=n[0];x=M[q[S][1]]=i.pf=o}z(V),(el_fn=window.onpageshow)?i.pg=el_fn:window.onpageshow=function(e,t){i.pg=t,window.onpageshow=t},E[N]=i,h=[a],history.state!==d&&history.replaceState(d,0,location.href)}(),addEventListener("touchstart",n,{passive:!0}),addEventListener("mousedown",n,{passive:!0}),addEventListener("click",function(e){var t,n,o,i,a,r,s,l,c,p=e.target;"A"===(p="FONT"===p.nodeName?p.parentNode:p).nodeName&&p.origin===j&&(10<=(o="/"==(o=p.pathname).charAt(0)?o:"/"+o).length&&o.lastIndexOf("/jsrdt.htm")===o.length-10&&(p.pathname=o=o.replace("/jsrdt.htm","/js/rt.htm")),a=P(o),(t=E[o])?(i=p.hash,s=o===location.pathname&&i!=location.hash,(l=(r=h[d])[0]).p1&&A&&S!==a&&A({},N),2===a&&(T?T=0:(R=0,T=1,D.appendChild(document.createElement("script")).src="routes.js")),s||(u.removeChild(r[1]),G(l.style,t.style),O=G(O,t.pc),x=G(x,t.pf)),r=h[++d]=[],(l=window.S)&&l.pr&&(window.S=0,l.pt===a)&&l.s===i&&Date.now()-l.t<3e3&&(c=l.pr),8!=a&&(n=(n=this.T)&&n.GC)&&n(),h.length=d+1,c?n=c:(n=t.body)||(n=I[1][1],I[1][1]=0,z(V)),r[1]=s?n:u.appendChild(n),history.pushState(d,0,p.href),s||(e.preventDefault(),y=t.y,window.onpageshow=t.pg,(l=t.js)&&!c&&l(),N=o,m=i,8==(S=a)&&t.pf&&(B(o,"/bk.png",8),B(o,"/zo.png",8),B(o,"/zi.png",8),B(o,"/ts.gif",8))),r[0]=t,r[2]=o+i,r[3]=a):console.log("on click no cache spa ent"))}),onpopstate=function(e){var t,n,o,i,a,r=location.pathname,s=location.hash;null===(e=e.state)?console.log("spa leave 3 "+r):N==r&&m!=s?(m=s,console.log("spa leave 1 "+r)):e===d||e>=h.length?(console.log("spa leave 2 "+r),location.reload()):(n=(t=h[d])[0],i=(o=h[e])[3],a=o[0],n.p1&&A&&S!==i&&A({},N),N=r,m=s,u.removeChild(t[1]),G(n.style,a.style),O=G(O,a.pc),x=G(x,a.pf),d=e,S=i,u.appendChild(o[1]),y=a.y,onpageshow=r=a.pg,r&&r({persisted:1}))}),this.addEventListener&&(addEventListener("keyup",o,0),addEventListener("keypress",o,0)),e=D.firstChild;e;)"preconnect"===e.rel&&((t=document.createElement("link")).rel="dns-prefetch",t.href=e.href,D.appendChild(t)),e=e.nextElementSibling;this.ScriptEngineMajorVersion&&(ScriptEngineMajorVersion()<5||5===ScriptEngineMajorVersion()&&ScriptEngineMinorVersion()<5)&&(onload=function(){for(var e,t,n,o,i=document.links,a=i.length,r=0;r<a;r++)e=(t=i[r]).pathname,n?n===e&&(t.pathname=o):(t=e.length-8,"s"!==(o=e.charAt(t))&&"a"!==o||!~e.indexOf("s"===o?"stop":"atus",t)||(o=(n=e).slice(0,-4)+"ie50.htm",r--));onload=null})}();