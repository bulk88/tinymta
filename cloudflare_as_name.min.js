"use strict";const e=new Int8Array([-119,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,70,0,0,0,76,8,6,0,0,0,-48,-75,-63,-30,0,0,1,104,73,68,65,84,120,1,-19,-37,65,110,-124,48,12,-123,97,106,-27,72,62,-109,15,-27,51,-7,78,109,119,44,80,71,93,-64,31,61,-12,-98,-60,122,-62,-121,-47,56,9,-7,-6,-2,-51,-31,92,18,38,48,-116,97,12,99,24,-61,24,-58,48,-94,89,7,-99,-50,-29,-33,-87,-39,6,115,-19,124,121,12,28,10,-128,1,48,120,-96,19,-122,7,-31,-127,120,24,30,4,1,10,30,-123,127,109,-7,-118,-31,81,-80,-22,9,73,20,96,76,33,-119,2,-116,45,-8,31,-42,-64,9,30,69,3,39,48,20,-79,-60,-21,81,58,-31,-65,107,53,-88,26,-127,-50,87,0,39,30,31,72,-115,-41,99,62,2,-119,85,-40,2,49,-10,-93,117,94,126,-113,-121,17,-81,-80,-72,-15,102,88,-84,-102,-13,2,96,-34,-97,78,-61,104,87,76,-89,-48,10,30,-113,115,94,68,-13,-40,-71,9,-90,-26,-2,-101,-24,68,119,9,-30,112,-128,21,-68,-102,-19,-13,40,87,-52,-11,-11,50,12,81,-115,113,56,16,76,13,-14,68,121,24,-3,-59,38,111,-72,121,18,-23,87,9,94,28,-29,97,-12,-77,4,43,2,-103,59,-59,-93,13,86,-89,-20,7,-113,127,84,-116,59,-32,-27,-10,95,5,-90,83,127,39,82,-79,49,-28,55,-11,107,94,-11,109,-34,18,-86,4,-66,98,-128,-101,-105,-101,120,-122,81,-18,-128,-87,81,68,1,96,20,113,48,24,21,-100,26,26,70,0,-89,-58,103,9,-98,122,88,-63,15,-122,65,1,96,4,112,106,68,-114,-2,117,-6,-124,-101,-49,68,106,124,28,4,-64,0,88,62,119,-19,125,37,-61,24,-58,48,-114,97,12,99,24,-61,-20,-122,113,126,0,35,123,-80,-59,19,19,36,-10,0,0,0,0,73,69,78,68,-82,66,96,-126]),t={"":"Meadowlands",ABT:"Albertson",ADL:"Auburndale",AGT:"Amagansett",ATL:"Atlantic Terminal",AVL:"Amityville",BDY:"Broadway",BHN:"Bridgehampton",BK:"Stony Brook",BMR:"Bellmore",BOL:"Bolands-Employees",BPG:"Bethpage",BPT:"Bellport",BRS:"Bellerose",BRT:"Belmont Park",BSD:"Bayside",BSR:"Bay Shore",BTA:"Babylon",BWD:"Brentwood",BWN:"Baldwin",CAV:"Centre Av",CHT:"Cedarhurst",CI:"Central Islip",CLP:"Country Life Press",CPG:"Copiague",CPL:"Carle Place",CSH:"Cold Spring Harbor",DGL:"Douglaston",DPK:"Deer Park",EHN:"East Hampton",ENY:"East New York",ERY:"East Rockaway",EWN:"East Williston",FHL:"Forest Hills",FLS:"Flushing Main Street",FMD:"Farmingdale",FPK:"Floral Park",FPT:"Freeport",FRY:"Far Rockaway",GBN:"Gibson",GCV:"Glen Cove",GCY:"Garden City",GHD:"Glen Head",GNK:"Great Neck",GPT:"Greenport",GRV:"Great River",GST:"Glen Street",GVL:"Greenvale",GWN:"Greenlawn",HBY:"Hampton Bays",HEM:"Hempstead",HGN:"Hempstead Gardens",HIL:"Hillside-Employees",HOL:"Hollis",HPA:"Hunterspoint Av",HUN:"Huntington",HVL:"Hicksville",HWT:"Hewlett",IPK:"Island Park",ISP:"Islip",IWD:"Inwood",JAM:"Jamaica",KGN:"Kew Gardens",KPK:"Kings Park",LBH:"Long Beach",LCE:"Lawrence",LHT:"Lindenhurst",LIC:"Long Island City",LMR:"Locust Manor",LNK:"Little Neck",LTN:"Laurelton",LVL:"Locust Valley",LVW:"Lakeview",LYN:"Lynbrook",MAK:"Mattituck",MAV:"Merillon Av",MAV:"Merillon Avenue",MFD:"Medford",MHL:"Murray Hill",MHT:"Manhasset",MIN:"Mineola",MPK:"Massapequa Park",MQA:"Massapequa",MRK:"Merrick",MSY:"Mastic Shirley",MSY:"Mastic-Shirley",MTK:"Montauk",MVN:"Malverne",NAV:"Nostrand Av",NBD:"Nassau Blvd",NHP:"New Hyde Park",NPT:"Northport",NYK:"Penn Station",OBY:"Oyster Bay",ODE:"Oceanside",ODL:"Oakdale",PDM:"Plandome",PGE:"Patchogue",PJN:"Port Jefferson",PLN:"Pinelawn",PWS:"Port Washington",QVG:"Queens Village",RHD:"Riverhead",RON:"Ronkonkoma",ROS:"Rosedale",RSN:"Roslyn",RVC:"Rockville Centre",SAB:"St. Albans",SCF:"Sea Cliff",SFD:"Seaford",SHD:"Southold",SHN:"Southampton",SJM:"St. James",SMR:"Stewart Manor",SPK:"Speonk",SSM:"Mets-Willets Point",STN:"Smithtown",SVL:"Sayville",SYT:"Syosset",VSM:"Valley Stream",WBY:"Westbury",WDD:"Woodside",WGH:"Wantagh",WHD:"West Hempstead",WHN:"Westhampton",WMR:"Woodmere",WWD:"Westwood",WYD:"Wyandanch",YPK:"Yaphank"};function a(e,t){return new Response("document.body.appendChild(document.createTextNode("+JSON.stringify(e)+"))",{headers:{"content-type":"text/javascript","cache-control":"no-cache, no-transform",...t}})}function r(e,t){var a={1:"EE352E",2:"EE352E",3:"EE352E",4:"00933C",5:"00933C","5X":"00933C",6:"00933C","6X":"00A65C",7:"B933AD","7X":"B933AD",A:"2850AD",B:"FF6319",C:"2850AD",D:"FF6319",E:"2850AD",F:"FF6319",FX:"FF6319",G:"6CBE45",GS:"6D6E71",J:"996633",L:"A7A9AC",M:"FF6319",N:"FCCC0A",Q:"FCCC0A",R:"FCCC0A",W:"FCCC0A",Z:"996633"}[t||e];return a?"<font color="+a+">"+e+"</font>":e}function n(e,t){for(t in e=e.split(/[: T-]/))e[t]=parseFloat(e[t]);return"Min "+Math.floor(Math.abs((new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0,0)-new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})))/1e3)/60)}async function o(o){var s=new URL(o.url),i=s.pathname;if("/favicon.ico"===i)return new Response(e,{headers:{"cache-control":"max-age=691200,no-transform","content-type":"image/vnd.microsoft.icon"}});if(i.startsWith("/li/api/")){var c=fetch("http://backend.mylirr.org/arrivals/"+i.substring(8),{headers:{"accept-version":"1.5"}});i="/**/ typeof "+(i=(s.searchParams.get("callback")||"_xcallback").replace(/[^\[\]\w$.]/g,""))+" === 'function' && "+i+"({http_code:";var l=(c=await c).headers.get("content-type");return i+=c.status+",content_type:'"+l+"',contents:",c=await c.text(),new Response(i+("application/json"===l?c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):JSON.stringify(c))+"});",{headers:{"content-type":"text/javascript","cache-control":"no-cache","x-content-type-options":"nosniff"}})}if(i.startsWith("/s/")){if(i=i.substr("/s/".length,3),/^\w+$/.test(i)){var d="http://otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+i,h=(c=fetch(d),"<meta content=0 name=mobileoptimized>[1][<a accesskey=1 href="+i+">Refresh</a>] <a href="+d+">Raw</a><br>"),u=[2,3,4,5,6,7,8,9,0];if(200==(c=await c).status){var p;c=c.json();var f,m,y={};if((C=c=await c).length){for(g in(C=C[0]).alerts,C.groups)for(g in d=(f=C.groups[g]).headsign.replace("Downtown & Brooklyn","Downtown & Bklyn"),f.times)(m=f.times[g]).shortRouteName=f.route.shortName,(y[d]=y[d]||[]).push(m);for(g in y)y[g].sort((function(e,t){return e.departureFmt<t.departureFmt?-1:e.departureFmt>t.departureFmt?1:0}));for(g in h+=(new Date).toLocaleTimeString("en-US",{timeZone:"America/New_York"})+" via CFW<br>CurSta:"+C.stop.name+"<br>",y)for(g in h+="<a accesskey="+(p=u.shift())+" name="+p+" href=#"+p+">"+g+"</a><br>",f=y[g])h+=n((m=f[g]).departureFmt)+"-"+r(m.shortRouteName)+"-"+m.tripHeadsign+(void 0===m.track?"-Tk?":"")+(m.realtime?"-":"-NRT-")+function(e){switch(e){case"SCHEDULED":return"SCH";case"UPDATED":return"UPD";case"CANCELED":return"CNX";case"ADDED":return"ADD";case"MODIFIED":return"MOD";default:return"UNK"}}(m.realtimeState)+((m=((m=m.departureDelay)<-43200?m+86400:m)/60|0)?(m>0?"-L":"-E")+Math.abs(m):"")+"<br>";for(g in h+="<br>Key: E2 (early 2 min) L3 (late 3 min)<br>NRT (not realtime)<br><br>",y="",(C=C.alerts).sort((function(e,t){return e.effectiveStartDate<t.effectiveStartDate?-1:e.effectiveStartDate>t.effectiveStartDate?1:0})),C)(m=C[g]).alertType&&(f=(void 0===(p=u.shift())?m.alertType:"<a accesskey="+p+" href=#"+p+" name="+p+">"+m.alertType+"</a>")+"<br>"+(m.humanReadableActivePeriod||"Ongoing")+"<br>"+m.alertHeaderText.replace(/\[(\w+)\]/g,r)+(m.alertDescriptionText?"<br>"+m.alertDescriptionText.replace(/\[(\w+)\]/g,r):"")+"<br><br>",m.humanReadableActivePeriod?y+=f:h+=f);h+=y}else h="station not found";return new Response(h,{headers:{"content-type":"text/html; charset=utf-8","cache-control":"no-cache, no-store"}})}return c}}else if(i.startsWith("/li/s/")&&(i=i.substr("/li/s/".length,3),/^\w+$/.test(i))){d="http://backend.mylirr.org/arrivals/"+i,c=fetch(d,{headers:{"accept-version":"1.5"}}),h="<meta content=0 name=mobileoptimized>[1][<a accesskey=1 href="+i+">Refresh</a>] <a href="+d+">Raw</a><br>"+(new Date).toLocaleTimeString("en-US",{timeZone:"America/New_York"})+" via CFW<br>CurSta:"+t[i]+"<br><a accesskey=2 name=2 href=#2>East</a><br>";var S="<a accesskey=3 name=3 href=#3>West</a><br>";if(200==(c=await c).status){var g,D,w,C=c.json();for(C=await C,g=0;g<C.length;g++)D=C[g],w=new Date(1e3*(w=D.time)).toLocaleTimeString("en-US",{timeZone:"America/New_York"}).replace(":00 "," ")+"-Min "+Math.ceil((w-new Date((new Date).toLocaleString())/1e3)/60)+"-Tk"+(D.track||"?")+"-<font color="+{11:"60269E",12:"4D5357",BY:"00985F",FR:"6E3219",HM:"CE8E00",LB:"FF6319",MK:"00B2A9",OB:"00AF3F",PJ:"006EC7",PW:"C60C30",RK:"A626AA",WH:"00A1DE"}[D.branch]+">"+t[(w=D.stops)[w.length-1]]+"</font><br>","E"==D.direction?h+=w:S+=w;return h+=S,new Response(h,{headers:{"content-type":"text/html; charset=utf-8","cache-control":"no-cache, no-store"}})}return c}var A=o?.cf||{asn:676},L=o?.headers?.get("cf-connecting-ip")||"0.0.0.0",M='W/"'+L+"."+A.asn+'"';if(o?.headers?.get("if-none-match")==M)return new Response(null,{status:304});var B="AS"+A.asn;B=String.fromCharCode(B.length)+B+"asncymrucom\0\0\0";c=fetch("https://"+(o?.cf?"1.1.1.1":"cloudflare-dns.com")+"/dns-query",{method:"post",body:"\0\0\0\0\0\0\0\0\0"+B,headers:{"content-type":"application/dns-message"}});var b=(B=(new TextEncoder).encode(B)).byteLength-4;c=await c;var N=await c.arrayBuffer(),E=new DataView(N);if(33152==(33664&E.getUint16(2))&&65537==E.getUint32(4)&&0==E.getUint32(8)){let e,t,r;for(t=1,e=0;e<B.byteLength;e++)if(B[e]!==E.getUint8(e+12)){t=0;break}if(t){let n;for(e+=12,192==(192&E.getUint8(e))?(n=-49153&E.getUint16(e),r=e+2):(n=e,r=e+b),t=1,e=0;e<b;e++)if(B[e]!==E.getUint8(e+n)){t=0;break}if(t&&1048577==E.getUint32(r)&&(r+=8,E.getUint16(r)+(r+=2)==E.byteLength&&E.getUint8(r)+(r+=1)==E.byteLength))return a("Your ISP: "+L+" | AS"+(new TextDecoder).decode(new Uint8Array(E.buffer,r)),{etag:M})}}return a("ERROR: raw data: "+(new TextDecoder).decode(new Uint8Array(N)),{})}addEventListener("fetch",(e=>{e.respondWith(o(e.request))}));