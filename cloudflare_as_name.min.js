"use strict";let e,t=new TextEncoder;const a=new Int8Array([-119,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,70,0,0,0,76,8,6,0,0,0,-48,-75,-63,-30,0,0,1,104,73,68,65,84,120,1,-19,-37,65,110,-124,48,12,-123,97,106,-27,72,62,-109,15,-27,51,-7,78,109,119,44,80,71,93,-64,31,61,-12,-98,-60,122,-62,-121,-47,56,9,-7,-6,-2,-51,-31,92,18,38,48,-116,97,12,99,24,-61,24,-58,48,-94,89,7,-99,-50,-29,-33,-87,-39,6,115,-19,124,121,12,28,10,-128,1,48,120,-96,19,-122,7,-31,-127,120,24,30,4,1,10,30,-123,127,109,-7,-118,-31,81,-80,-22,9,73,20,96,76,33,-119,2,-116,45,-8,31,-42,-64,9,30,69,3,39,48,20,-79,-60,-21,81,58,-31,-65,107,53,-88,26,-127,-50,87,0,39,30,31,72,-115,-41,99,62,2,-119,85,-40,2,49,-10,-93,117,94,126,-113,-121,17,-81,-80,-72,-15,102,88,-84,-102,-13,2,96,-34,-97,78,-61,104,87,76,-89,-48,10,30,-113,115,94,68,-13,-40,-71,9,-90,-26,-2,-101,-24,68,119,9,-30,112,-128,21,-68,-102,-19,-13,40,87,-52,-11,-11,50,12,81,-115,113,56,16,76,13,-14,68,121,24,-3,-59,38,111,-72,121,18,-23,87,9,94,28,-29,97,-12,-77,4,43,2,-103,59,-59,-93,13,86,-89,-20,7,-113,127,84,-116,59,-32,-27,-10,95,5,-90,83,127,39,82,-79,49,-28,55,-11,107,94,-11,109,-34,18,-86,4,-66,98,-128,-101,-105,-101,120,-122,81,-18,-128,-87,81,68,1,96,20,113,48,24,21,-100,26,26,70,0,-89,-58,103,9,-98,122,88,-63,15,-122,65,1,96,4,112,106,68,-114,-2,117,-6,-124,-101,-49,68,106,124,28,4,-64,0,88,62,119,-19,125,37,-61,24,-58,48,-114,97,12,99,24,-61,-20,-122,113,126,0,35,123,-80,-59,19,19,36,-10,0,0,0,0,73,69,78,68,-82,66,96,-126]);var r={"0AR":"Ardsley-on-Hudson","0BC":"Beacon","0BK":"Breakneck Ridge","0CS":"Cold Spring","0CT":"Cortlandt","0DF":"Dobbs Ferry","0DV":"Spuyten Duyvil","0GA":"Garrison","0GD":"Glenwood","0GY":"Greystone","0HB":"Highbridge-Employees","0HL":"Harlem-125 St","0HM":"Croton-Harmon","0HS":"Hastings-on-Hudson","0IV":"Irvington","0LU":"Ludlow","0MB":"Marble Hill","0MH":"Morris Heights","0MN":"Manitou","0NM":"New Hamburg","0NY":"Grand Central","0OS":"Ossining","0PE":"Peekskill","0PM":"Philipse Manor","0PO":"Poughkeepsie","0RV":"Riverdale","0SB":"Scarborough","0TT":"Tarrytown","0UH":"University Heights","0YK":"Yonkers","0YS":"Yankees-E 153 St","1AT":"Appalachian Trail","1BG":"Botanical Garden","1BH":"Bedford Hills","1BR":"Southeast","1BW":"Brewster","1BX":"Bronxville","1CF":"Croton Falls","1CQ":"Chappaqua","1CW":"Crestwood","1DO":"Dover Plains","1FO":"Fordham","1FW":"Fleetwood","1GO":"Goldens Bridge","1HA":"Hartsdale","1HN":"Hawthorne","1KA":"Katonah","1MK":"Mt Kisco","1ML":"Melrose","1MP":"Mt Pleasant","1MW":"Mt Vernon West","1NW":"North White Plains","1PA":"Patterson","1PV":"Pleasantville","1PW":"Pawling","1PY":"Purdy's","1SC":"Scarsdale","1TK":"Tuckahoe","1TM":"Tenmile River","1TR":"Tremont","1VA":"Valhalla","1WA":"Wassaic","1WF":"Wakefield","1WG":"Williams Bridge","1WI":"Harlem Valley-Wingdale","1WN":"Woodlawn","1WP":"White Plains","2BP":"Bridgeport","2CC":"Cos Cob","2DA":"Darien","2EN":"East Norwalk","2FF":"Fairfield","2FM":"Fairfield Metro","2GF":"Green's Farms","2GN":"Greenwich","2HS":"Harrison","2LA":"Larchmont","2MA":"Mamaroneck","2ME":"Mt Vernon East","2MI":"Milford","2NH":"New Haven","2NO":"Noroton Heights","2NR":"New Rochelle","2OG":"Old Greenwich","2PC":"Port Chester","2PH":"Pelham","2RO":"Rowayton","2RS":"Riverside","2RY":"Rye","2SM":"Stamford","2SN":"South Norwalk","2SP":"Southport","2SR":"Stratford","2SS":"New Haven-State St","2WH":"West Haven","2WP":"Westport","3GB":"Glenbrook","3NC":"New Canaan","3SD":"Springdale","3TH":"Talmadge Hill","4BE":"Bethel","4BV":"Branchville","4CA":"Cannondale","4DN":"Danbury","4M7":"Merritt 7","4RD":"Redding","4WI":"Wilton","5AN":"Ansonia","5BF":"Beacon Falls","5DB":"Derby-Shelton","5NG":"Naugatuck","5SY":"Seymour","5WB":"Waterbury",ABT:"Albertson",ADL:"Auburndale",AGT:"Amagansett",ATL:"Atlantic Terminal",AVL:"Amityville",BDY:"Broadway",BHN:"Bridgehampton",BK:"Stony Brook",BMR:"Bellmore",BOL:"Bolands-Employees",BPG:"Bethpage",BPT:"Bellport",BRS:"Bellerose",BRT:"Belmont Park",BSD:"Bayside",BSR:"Bay Shore",BTA:"Babylon",BWD:"Brentwood",BWN:"Baldwin",CAV:"Centre Av",CHT:"Cedarhurst",CI:"Central Islip",CLP:"Country Life Press",CPG:"Copiague",CPL:"Carle Place",CSH:"Cold Spring Harbor",DGL:"Douglaston",DPK:"Deer Park",EHN:"East Hampton",EMT:"Elmont-UBS Arena",ENY:"East New York",ERY:"East Rockaway",EWN:"East Williston",FHL:"Forest Hills",FLS:"Flushing Main Street",FMD:"Farmingdale",FPK:"Floral Park",FPT:"Freeport",FRY:"Far Rockaway",GBN:"Gibson",GCT:"Grand Central",GCV:"Glen Cove",GCY:"Garden City",GHD:"Glen Head",GNK:"Great Neck",GPT:"Greenport",GRV:"Great River",GST:"Glen Street",GVL:"Greenvale",GWN:"Greenlawn",HBY:"Hampton Bays",HEM:"Hempstead",HGN:"Hempstead Gardens",HIL:"Hillside-Employees",HOL:"Hollis",HPA:"Hunterspoint Av",HUN:"Huntington",HVL:"Hicksville",HWT:"Hewlett",IPK:"Island Park",ISP:"Islip",IWD:"Inwood",JAM:"Jamaica",KGN:"Kew Gardens",KPK:"Kings Park",LBH:"Long Beach",LCE:"Lawrence",LHT:"Lindenhurst",LIC:"Long Island City",LMR:"Locust Manor",LNK:"Little Neck",LTN:"Laurelton",LVL:"Locust Valley",LVW:"Lakeview",LYN:"Lynbrook",MAK:"Mattituck",MAV:"Merillon Av",MFD:"Medford",MHL:"Murray Hill",MHT:"Manhasset",MIN:"Mineola",MPK:"Massapequa Park",MQA:"Massapequa",MRK:"Merrick",MSY:"Mastic-Shirley",MTK:"Montauk",MVN:"Malverne",NAV:"Nostrand Av",NBD:"Nassau Blvd",NHP:"New Hyde Park",NPT:"Northport",NYK:"Penn Station",OBY:"Oyster Bay",ODE:"Oceanside",ODL:"Oakdale",PDM:"Plandome",PGE:"Patchogue",PJN:"Port Jefferson",PLN:"Pinelawn",PWS:"Port Washington",QVG:"Queens Village",RHD:"Riverhead",RON:"Ronkonkoma",ROS:"Rosedale",RSN:"Roslyn",RVC:"Rockville Centre",SAB:"St. Albans",SCF:"Sea Cliff",SFD:"Seaford",SHD:"Southold",SHN:"Southampton",SJM:"St. James",SMR:"Stewart Manor",SPK:"Speonk",SSM:"Mets-Willets Point",STN:"Smithtown",SVL:"Sayville",SYT:"Syosset",VSM:"Valley Stream",WBY:"Westbury",WDD:"Woodside",WGH:"Wantagh",WHD:"West Hempstead",WHN:"Westhampton",WMR:"Woodmere",WWD:"Westwood",WYD:"Wyandanch",YPK:"Yaphank",_GC:"Grand Central"};function n(e,t){return new Response("var e=document.scripts;e=e[e.length-3];e.parentNode.replaceChild(document.createTextNode("+JSON.stringify(e)+"),e)",{headers:{"content-type":"text/javascript","cache-control":"no-cache, no-transform",...t}})}function o(e,t){var a={4:"00933c",5:"00933c","5X":"00933c",6:"00933c","6X":"00a65c",A:"2850ad",C:"2850ad",E:"2850ad",G:"6cbe45",GS:"6d6e71",J:"996633",Z:"996633",L:"a7a9ac",7:"b933ad","7X":"b933ad",1:"ee352e",2:"ee352e",3:"ee352e",N:"fccc0a",Q:"fccc0a",R:"fccc0a",W:"fccc0a",B:"ff6319",D:"ff6319",F:"ff6319",FX:"ff6319",M:"ff6319"}[t||e];return a?"<font color="+a+">"+e+"</font>":e}function s(e){return"string"==typeof e&&0===(e=e.replace(/(<p style="min-height:10px"><\/p>|<p><\/p>)+$/g,"")).indexOf("<p>")&&-1!==e.indexOf("</p>",e.length-4)?e.slice(3,-4):e}function i(e,t){for(t in e=e.split(/[: T-]/))e[t]=parseFloat(e[t]);return"Min "+Math.floor(Math.abs((new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0,0)-new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})))/1e3)/60)}async function c(t,c){var E,B=new URL(t.url),A=B.pathname;if("/favicon.ico"===A)return new Response(a,{headers:{"cache-control":"max-age=691200,no-transform","content-type":"image/vnd.microsoft.icon","x-v8st":e}});if(A.startsWith("/api/")){var u=A.substr(5,3);return E="rts"===u?new Promise((e=>{e(new Response(h,{headers:{"content-type":"application/json"}}))})):fetch(("su/"===u?"http://otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:":"alt"===u?"http://collector-otp-prod.camsys-apps.com/realtime/gtfsrt/ALL/alerts?type=json&apikey=qeqy84JE7hUKfaI0Lxm2Ttcm6ZA0bYrP":"wea"===u?"https://api.weather.com/v3/wx/forecast/hourly/1day?geocode=40.74,-73.91&format=json&units=e&language=en-US&apiKey=8de2d8b3a93542c9a2d8b3a935a2c909":"ro/"===u?"http://backend-unified.mylirr.org/locations/":"http://backend-unified.mylirr.org/arrivals/")+A.substring(8)+("ro/"===u?"?geometry=NONE":""),{headers:{"accept-version":"3.0"}}),A="/**/ typeof "+(A=(B.searchParams.get("callback")||"_xcallback").replace(/[^\[\]\w$.]/g,""))+" === 'function' && "+A+"({http_code:",E=await E,"rts"===u&&c.waitUntil(l(c)),u=E.headers.get("content-type"),A+=E.status+",content_type:'"+u+"',contents:",E=await E.text(),new Response(A+(u.startsWith("application/json")?E.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):JSON.stringify(E))+"});",{headers:{"content-type":"text/javascript","cache-control":"no-cache","x-content-type-options":"nosniff"}})}if(A.startsWith("/s/")){if(A=A.substr("/s/".length,3),/^\w+$/.test(A)){var d="http://otp-mta-prod.camsys-apps.com/otp/routers/default/nearby?timerange=1800&apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE&stops=MTASBWY:"+A;E=fetch(d);var f="<meta content=0 name=mobileoptimized>[1][<a accesskey=1 href="+A+">Refresh</a>] <a href="+d+">Raw</a><br>",M=[2,3,4,5,6,7,8,9,0];if(200==(E=await E).status){E=E.json();var S,p,m=0,g={};if((D=E=await E).length){for(w in(D=D[0]).alerts,D.groups)for(w in d=(S=D.groups[w]).headsign.replace("Downtown & Brooklyn","Downtown & Bklyn"),S.times)(p=S.times[w]).shortRouteName=S.route.shortName,p.timestamp>m&&(m=p.timestamp),(g[d]=g[d]||[]).push(p);for(w in g)g[w].sort((function(e,t){return e.departureFmt<t.departureFmt?-1:e.departureFmt>t.departureFmt?1:0}));for(w in f+=new Date(1e3*m).toLocaleTimeString("en-US",{timeZone:"America/New_York"})+" via CFW<br>CurSta:"+D.stop.name+"<br>",g)for(w in f+="<a accesskey="+(m=M.shift())+" name="+m+" href=#"+m+">"+w+"</a><br>",S=g[w])f+=i((p=S[w]).departureFmt)+"-"+o(p.shortRouteName)+"-"+p.tripHeadsign+(void 0===p.track?"-Tk?":"")+(p.realtime?"-":"-NRT-")+function(e){switch(e){case"SCHEDULED":return"SCH";case"UPDATED":return"UPD";case"CANCELED":return"CNX";case"ADDED":return"ADD";case"MODIFIED":return"MOD";default:return"UNK"}}(p.realtimeState)+((p=((p=p.departureDelay)<-43200?p+86400:p)/60|0)?(p>0?"-L":"-E")+Math.abs(p):"")+"<br>";for(f+="<br>Key: E2 (early 2 min) L3 (late 3 min)<br>NRT (not realtime)<br><br>",g="",(D=D.alerts||[]).sort((function(e,t){return e.effectiveStartDate<t.effectiveStartDate?-1:e.effectiveStartDate>t.effectiveStartDate?1:0})),w=0;w<D.length&&w<10;w++)(p=D[w]).alertType&&(S=(void 0===(m=M.shift())?p.alertType:"<a accesskey="+m+" href=#"+m+" name="+m+">"+p.alertType+"</a>")+"<br>"+(p.humanReadableActivePeriod||"Ongoing")+"<br>"+p.alertHeaderText.replace(/\[(\w+)\]/g,o)+(p.alertDescriptionText?"<br>"+p.alertDescriptionText.replace(/\[(\w+)\]/g,o):"")+"<br><br>",p.humanReadableActivePeriod?g+=S:f+=S);f+=g}else f="station not found";return new Response(f,{headers:{"content-type":"text/html; charset=utf-8","cache-control":"no-cache, no-store"}})}return E}}else if(A.startsWith("/li/s/")){if(A=A.substr("/li/s/".length,3),/^\w+$/.test(A)){d="http://backend-unified.mylirr.org/arrivals/"+A;E=fetch(d,{headers:{"accept-version":"3.0"}});f="<meta content=0 name=mobileoptimized>[1][<a accesskey=1 href="+A+">Refresh</a>] <a href="+d+">Raw</a><br>"+(new Date).toLocaleTimeString("en-US",{timeZone:"America/New_York"})+" via CFW<br>CurSta:"+r[A]+"<br><a accesskey=2 name=2 href=#2>East</a><br>";var y="<a accesskey=3 name=3 href=#3>West</a><br>";if(200==(E=await E).status){var w,F,Q,D=await E.json();for(w=0;w<D.arrivals.length;w++)F=D.arrivals[w],Q=new Date(1e3*(Q=F.time)).toLocaleTimeString("en-US",{timeZone:"America/New_York"}).replace(":00 "," ")+"-Min "+Math.ceil((Q-new Date((new Date).toLocaleString())/1e3)/60)+((Q=F.status.otp)&&(Q=Q/60|0)?Q>0?"-E"+Q:"-L"+-Q:"")+"-Tk"+(F.track||"?")+"-<font color="+{HA:"0039a6",HH:"006ec7",PJ:"006ec7",BY:"00985f",HU:"009b3a",WH:"00a1de",OB:"00af3f",MK:"00b2a9",12:"4d5357",CI:"4d5357",11:"60269e",FR:"6e3219",RK:"a626aa",PW:"c60c30",HM:"ce8e00",DN:"ee0034",NC:"ee0034",NH:"ee0034",WB:"ee0034",LB:"ff6319"}[F.branch]+">"+r[(Q=F.stops)[Q.length-1]]+"</font>"+("O"==F.peak_code?"":"-Pk")+"<br>","E"==F.direction?f+=Q:y+=Q;for(w in f+=y,y="<br>",D.banners)y+=(w=D.banners[w]).title+"<br>"+w.text+"<br><br>";for(w in(D=D.alerts).sort((function(e,t){return e.start_time<t.start_time?-1:e.start_time>t.start_time?1:0})),D)y+=(w=D[w]).status+"<br>"+s(w.header)+"<br>"+(w.human_duration?w.human_duration+"<br>":"")+s(w.text)+"<br><br>";return f+=y,new Response(f,{headers:{"content-type":"text/html; charset=utf-8","cache-control":"no-cache, no-store"}})}return E}}else if("/routes.js"===A){var b=t.headers.get("if-none-match");return c.respondWith(new Response(b===C?"":h,{status:b===C?304:200,headers:{"content-type":"text/javascript",etag:C,"cache-control":"max-age=10, stale-while-revalidate=86400","access-control-allow-origin":"*"}})),c.waitUntil(l(c)),null}var N=t?.cf||{asn:676},H=t?.headers?.get("cf-connecting-ip")||"0.0.0.0",v='W/"'+H+"."+N.asn+'"';if(t?.headers?.get("if-none-match")==v)return new Response(null,{status:304});var P="AS"+N.asn;P=String.fromCharCode(P.length)+P+"asncymrucom\0\0\0",E=fetch("https://"+(t?.cf?"1.1.1.1":"cloudflare-dns.com")+"/dns-query",{method:"post",body:"\0\0\0\0\0\0\0\0\0"+P,headers:{"content-type":"application/dns-message"}});var W=(P=(new TextEncoder).encode(P)).byteLength-4;E=await E;var k=await E.arrayBuffer(),R=new DataView(k);if(33152==(33664&R.getUint16(2))&&65537==R.getUint32(4)&&0==R.getUint32(8)){let e,t,a;for(t=1,e=0;e<P.byteLength;e++)if(P[e]!==R.getUint8(e+12)){t=0;break}if(t){let r;for(e+=12,192==(192&R.getUint8(e))?(r=-49153&R.getUint16(e),a=e+2):(r=e,a=e+W),t=1,e=0;e<W;e++)if(P[e]!==R.getUint8(e+r)){t=0;break}if(t&&1048577==R.getUint32(a)&&(a+=8,R.getUint16(a)+(a+=2)==R.byteLength&&R.getUint8(a)+(a+=1)==R.byteLength))return n("Your ISP: "+H+" | AS"+(new TextDecoder).decode(new Uint8Array(R.buffer,a)),{etag:v})}}return n("ERROR: raw data: "+(new TextDecoder).decode(new Uint8Array(k)),{})}async function l(e){var a,r,n,o,s,i,c,l,B=0;if(o=fetch("http://otp-mta-prod.camsys-apps.com/otp/routers/default/index/routes?apikey=Z276E3rCeTzOQEoBPPN4JCEc6GfvdnYE"),200===(o=await o).status){for(o=o.json(),o=await o;B<o.length;B++)null===(r=o[B]).longName&&delete r.longName,null===r.shortName&&delete r.shortName,null===r.color&&delete r.color;if(o=E.buildServiceRoutes(o),o=(o=JSON.stringify(o)).replace(/null/g,""),n=await crypto.subtle.digest("MD5",t.encode(o)),n='W/"'+btoa(String.fromCharCode.apply(null,new Uint8Array(n)))+'"',C!==n){try{a=GHAPISECRET}catch(r){(a=url.searchParams.get("key"))||console.log("GHAPI key is invalid="+a),a="Basic "+a}if(C=n,h=o,o=fetch("https://raw.githubusercontent.com/bulk88/tinymta/master/cloudflare_as_name.js",{cf:{cacheTtlByStatus:-1}}),s=fetch("https://raw.githubusercontent.com/bulk88/tinymta/master/cloudflare_as_name.min.js",{cf:{cacheTtlByStatus:-1}}),o=await o,s=await s,console.log("got old gh script"),200==o.status&&200==s.status){o=await o.text(),s=await s.text(),c=h.replace(/\x27/g,"\\'"),(l=o.replace(/let (\w+)='[^']*',(\w+)='[^']*';$/,"let $1='"+n+"',$2='"+c+"';"))==o&&console.log("failed to patch full size cfw src"),(i=s.replace(/let (\w+)=(?:'[^']*'|"[^"]*"),(\w+)=(?:'[^']*'|"[^"]*");$/,"let $1='"+n+"',$2='"+c+"';"))==s&&console.log("failed to patch mini cfw src");async function d(e,t){return S("GET",e,t)}async function f(e,t){return S("POST",e,t)}async function M(e,t){return S("PATCH",e,t)}async function S(e,t,r){var n=await fetch("https://api.github.com/"+t,{method:e,headers:{authorization:a,"user-agent":"tinymta_cfw"},...r&&{body:JSON.stringify(r)}});return n.status>=300?(console.log("failed status="+n.status+" ct="+n.headers.get("content-type")+" url="+t),n=await n.text(),console.log(n),n):await n.json()}var A={repository:"bulk88/tinymta"};let p={};var u={gitAuthor:{name:"RoutesBot",email:"bulk88@hotmail.com"}};async function m(e,t,a){let r;var n,o,s,i;u.gitAuthor&&(r={name:u.gitAuthor.name,email:u.gitAuthor.email,date:(n=new Date,o=-n.getTimezoneOffset(),s=o>=0?"+":"-",i=function(e){return(e<10?"0":"")+e},n.getFullYear()+"-"+i(n.getMonth()+1)+"-"+i(n.getDate())+"T"+i(n.getHours())+":"+i(n.getMinutes())+":"+i(n.getSeconds())+s+i(Math.floor(Math.abs(o)/60))+":"+i(Math.abs(o)%60))});const c={message:a,parents:[e],tree:t};return r&&(c.author=r),(await f(`repos/${A.repository}/git/commits`,c)).sha}async function g(e,t){const a={sha:t,force:!0};try{await M(`repos/${A.repository}/git/refs/heads/${e}`,a)}catch(e){if(422===e.statusCode)throw console.log(e+" Branch no longer exists - exiting"),new Error("repository-changed");throw e}}async function y(e){try{return(await d(`repos/${A.repository}/git/refs/heads/${e}`)).object.sha}catch(e){if(404===e.statusCode)throw new Error("repository-changed");if(409===e.statusCode)throw new Error("empty");throw e}}async function w(e){return(await d(`repos/${A.repository}/git/commits/${e}`)).tree.sha}async function F(e){const t={encoding:"base64",content:btoa(e)};return(await f(`repos/${A.repository}/git/blobs`,t)).sha}async function Q(e,t){const a={base_tree:e,tree:[]};return t.forEach((e=>{a.tree.push({path:e.name,mode:"100644",type:"blob",sha:e.blob})})),(await f(`repos/${A.repository}/git/trees`,a)).sha}async function D(e,t,a,r=A.baseBranch){try{delete p[e];const o=[];for(const e of t){const t=F(e.contents);o.push({name:e.name,blob:t})}const s=await y(r),i=await w(s);for(var n=0;n<o.length;n++)o[n].blob=await o[n].blob;const c=await Q(i,o),l=await m(s,c,a);return await g(e,l),"updated"}catch(e){if(404===e.statusCode)throw new Error("repository-changed");throw e}}console.log("will push commit"),e.waitUntil(D("master",[{name:"cloudflare_as_name.js",contents:l},{name:"cloudflare_as_name.min.js",contents:i}],"Routes Upd "+(new Date).toLocaleString("en-US",{timeZone:"America/New_York"}),"master"))}}return!0}}addEventListener("fetch",(t=>{e||(e=Date.now()),console.log("v8start "+e);try{t.respondWith(c(t.request,t).catch((e=>console.log("c"+e))))}catch(e){console.log(e+" "+e.stack+" "+e.columnNumber+e.fileName+e.lineNumber)}}));var E={};function B(e){for(var t,a,r,n=[],o=0;o<e.length;o++)if("SUBWAY"===(t=e[o]).mode&&!t.id.indexOf("MTA")){if(a=!1,"X"===(r=t.shortName).substr(r.length-1,r.length)){var s=r.substr(0,r.indexOf("X"));a=n.find((function(e){return"object"==typeof e&&e[0]==s}))}a||((r=t.id.split(":").pop())==""+ +r&&(r=+r),n.push([r,t.sortOrder]))}return n}function A(e){var t=e.filter((function(e){return"BUS"===e.mode&&!!~e.id.indexOf("MTA")&&"MTA NYCT - Subway"!=e.agencyName})).map((function(e){var t=[e.id.split(":").pop(),e.color||null];return"MTA New York City Transit"!==e.agencyName&&(t[2]=1),t[0]==e.shortName||t[0].startsWith("BX")||(t[3]=e.shortName),t}));return t.sort((function(e,t){return e[3]<t[3]?-1:1})).forEach((function(e){var t=e[3],a=+t;t==""+a&&(e[3]=a)})),t}function u(e){var t=e.filter((function(e){return"RAIL"===e.mode&&!(e.id.indexOf("LI")&&e.id.indexOf("MNR"))})).map((function(e){var t=e.id.split(":").pop();return t==""+ +t&&(t=+t),t=[t,e.color,~e.id.indexOf("LI")?null:1,e.longName]}));t.push(["Wassaic","0039A6",1,"Wassaic"]),t.sort((function(e,t){return e[3]<t[3]?-1:1}));for(var a,r,n=[],o=[],s=0;s<t.length;s++)(e=t[s])[2]&&3==e[0]&&(a=s),e[2]&&2==e[0]&&(r=s),e[2]&&e[0]>=4&&e[0]<=6&&(n.push(e),t.splice(s,1),s--),~e[3].indexOf("Wassaic")&&(o.push(e),t.splice(s,1),s--);return(t=t.slice(0,a+1).concat(n).concat(t.slice(a+1))).slice(0,r+1).concat(o).concat(t.slice(r+1))}E.buildServiceRoutes=function(e){return[A(e),u(e),B(e)]};let C='W/"WDlavb5j2c6iYrlT7zv99w=="',h='[[["BXM1","00933C",1],["BXM2","00933C",1],["BXM3","00933C",1],["BXM4","00933C",1],["BXM6","00933C",1],["BXM7","00933C",1],["BXM8","00933C",1],["BXM9","00933C",1],["L92","EE352E"],["SIM33C","00933C"],["BXM10","00933C",1],["BXM11","00933C",1],["BXM18","00933C",1],["BX18A","6CBE45"],["BX18B","6CBE45"],["B12","6CBE45"],["B13","FAA61A"],["B11","006CB7"],["B16","FAA61A"],["B17","B933AD"],["B14","00AEEF"],["B15","B933AD"],["B20","6CBE45"],["M79+","EE352E",,"M79-SBS"],["B24","FAA61A"],["B25","6CBE45"],["B26","006CB7"],["S40","B933AD"],["S44","FAA61A"],["S42","00AEEF"],["Q06","B933AD",1,"Q6"],["S48","EE352E"],["Q07","6CBE45",1,"Q7"],["S46","006CB7"],["Q08","B933AD",1,"Q8"],["Q09","B933AD",1,"Q9"],["B31","FAA61A"],["B35","EE352E"],["B32","006CB7"],["B38","00AEEF"],["B39","00AEEF"],["B36","FAA61A"],["B37","B933AD"],["S51","006CB7"],["S52","B933AD"],["Q10","FAA61A",1],["Q13","EE352E"],["S55","FAA61A"],["S56","6CBE45"],["S53","EE352E"],["Q11","6CBE45",1],["Q12","EE352E"],["S54","FAA61A"],["S59","EE352E"],["Q17","EE352E"],["Q18","00AEEF",1],["Q15","FAA61A"],["S57","6CBE45"],["Q16","EE352E"],["SIM8","00933C"],["SIM9","00933C"],["Q19","00AEEF",1],["B41","006CB7"],["B42","006CB7"],["B45","EE352E"],["SIM1","00933C"],["B46","6CBE45"],["SIM2","00933C"],["B43","EE352E"],["B44","B933AD"],["SIM3","00933C"],["B49","EE352E"],["SIM4","00933C"],["SIM5","00933C"],["B47","FAA61A"],["SIM6","00933C"],["SIM7","00933C"],["B48","6CBE45"],["BX12+","006CB7"],["S62","B933AD"],["Q21","006CB7",1],["S61","EE352E"],["S66","6CBE45"],["Q24","00AEEF"],["Q25","00AEEF",1],["Q22","EE352E",1],["Q23","FAA61A",1],["Q28","EE352E"],["Q29","00AEEF",1],["Q26","6CBE45"],["Q27","EE352E"],["D90","EE352E"],["B52","EE352E"],["B57","EE352E"],["B54","6CBE45"],["Q31","FAA61A"],["Q32","00AEEF"],["M106","6CBE45"],["S74","EE352E"],["Q30","FAA61A"],["Q35","006CB7",1],["S78","FAA61A"],["Q36","FAA61A"],["Q33","EE352E",1],["S76","B933AD"],["Q34","FAA61A",1],["Q39","B933AD",1],["Q37","00AEEF",1],["Q38","EE352E",1],["B60","B933AD"],["B63","006CB7"],["B64","6CBE45"],["B61","6CBE45"],["B103","FAA61A",1],["B62","00AEEF"],["B67","EE352E"],["B68","EE352E"],["B100","B933AD",1],["B65","00AEEF"],["B69","006CB7"],["S81","006CB7"],["S84","EE352E"],["Q42","00AEEF"],["Q43","EE352E"],["Q40","6CBE45",1],["Q41","B933AD",1],["Q46","EE352E"],["Q47","6CBE45",1],["S89","EE352E"],["S86","B933AD"],["Q48","006CB7"],["Q49","006CB7",1],["M34+","006CB7",,"M34-SBS"],["B70","B933AD"],["B74","EE352E"],["M101","FAA61A"],["M102","FAA61A"],["M103","B933AD"],["M104","B933AD"],["Q70+","EE352E",1,"Q70-SBS"],["M100","00AEEF"],["S91","EE352E"],["S92","B933AD"],["Q50","FAA61A",1],["S90","B933AD"],["Q54","B933AD"],["S96","006CB7"],["S93","EE352E"],["S94","FAA61A"],["Q58","6CBE45"],["Q55","EE352E"],["S98","EE352E"],["Q56","B933AD"],["Q59","FAA61A"],["B82","6CBE45"],["B83","EE352E"],["B84","006CB7"],["Q60","EE352E",1],["Q64","EE352E",1],["M116","6CBE45"],["Q65","00AEEF",1],["Q69","00AEEF",1],["Q66","EE352E",1],["Q67","FAA61A",1],["B90","EE352E"],["M125","B933AD"],["B98",],["Q72","B933AD",1],["Q76","6CBE45"],["Q77","FAA61A"],["M15+","006CB7",,"M15-SBS"],["Q83","6CBE45"],["Q84","B933AD"],["Q85","EE352E"],["Q88","FAA61A"],["Q90","00933C"],["Q93","6CBE45"],["M10","006CB7"],["Q94","6CBE45"],["Q92","00933C"],["Q95","6CBE45"],["M11","FAA61A"],["M12","006CB7"],["M15","006CB7"],["Q53+","FAA61A",1,"Q53-SBS"],["M20","EE352E"],["M21","FAA61A"],["M22","00AEEF"],["M14D+","6CBE45",,"M14D-SBS"],["M31","B933AD"],["M35","FAA61A"],["M14A+","6CBE45",,"M14A-SBS"],["M42","EE352E"],["M50","6CBE45"],["M57","00AEEF"],["M55","6CBE45"],["M34A+","006CB7",,"M34A-SBS"],["M66","FAA61A"],["M72","6CBE45"],["Q110","006CB7",1],["Q111","EE352E",1],["Q114","FAA61A",1],["Q112","EE352E",1],["Q113","EE352E",1],["Q100","FAA61A",1],["Q107",],["Q108",],["Q103","EE352E",1],["Q104","B933AD",1],["Q101","6CBE45",1],["Q102","006CB7",1],["M98","EE352E"],["M96","6CBE45"],["B2","006CB7"],["B1","00AEEF"],["B4","6CBE45"],["B3","EE352E"],["S79+","006CB7",,"S79-SBS"],["B6","EE352E"],["B8","FAA61A"],["B7","EE352E"],["B9","EE352E"],["SIM15","00933C"],["SIM10","00933C"],["SIM11","00933C"],["X27","00933C"],["X28","00933C"],["X37","00933C"],["X38","00933C"],["Q15A","FAA61A"],["BX20","00AEEF"],["BX21","6CBE45"],["BX22","EE352E"],["BX23","B933AD",1],["BX24","6CBE45"],["BX25","FAA61A"],["BX26","FAA61A"],["BX27","00AEEF"],["BX28","00AEEF"],["BX29","00AEEF"],["B82+","6CBE45",,"B82-SBS"],["BX10","006CB7"],["BX11","FAA61A"],["X63","00933C"],["BX12","006CB7"],["BX13","006CB7"],["X64","00933C"],["BX15","FAA61A"],["BX16","00AEEF"],["X68","00933C"],["BX17","006CB7"],["BX19","B933AD"],["BX40","006CB7"],["BX41","EE352E"],["BX42","EE352E"],["BX46","EE352E"],["QM25","00933C",1],["QM24","00933C",1],["QM21","00933C",1],["QM20","00933C",1],["BX4A","FAA61A"],["BM2","00933C",1],["BM3","00933C",1],["BM1","00933C",1],["BM4","00933C",1],["BM5","00933C",1],["BX30","EE352E"],["BX31","EE352E"],["BX32","6CBE45"],["BX33","6CBE45"],["BX34","B933AD"],["BX35","00AEEF"],["BX36","B933AD"],["QM15","00933C",1],["BX38","FAA61A"],["BX39","FAA61A"],["QM12","00933C",1],["QM11","00933C",1],["QM10","00933C",1],["QM18","00933C",1],["QM17","00933C",1],["QM16","00933C",1],["M60+","EE352E",,"M60-SBS"],["BX6+","EE352E"],["QM40","00933C",1],["QM44","00933C",1],["QM42","00933C",1],["M1","EE352E"],["SIM8X","00933C"],["M3","B933AD"],["M2","B933AD"],["M5","EE352E"],["M4","00AEEF"],["M7","00AEEF"],["M9","B933AD"],["M8","00AEEF"],["QM3","00933C",1],["QM4","00933C",1],["QM1","00933C",1],["QM2","00933C",1],["QM7","00933C",1],["QM8","00933C",1],["QM36","00933C",1],["QM35","00933C",1],["QM5","00933C",1],["M86+","FAA61A",,"M86-SBS"],["QM6","00933C",1],["QM34","00933C",1],["QM32","00933C",1],["QM31","00933C",1],["SIM35","00933C"],["SIM3C","00933C"],["SIM32","00933C"],["SIM31","00933C"],["SIM34","00933C"],["SIM33","00933C"],["SIM30","00933C"],["SIM25","00933C"],["SIM24","00933C"],["SIM26","00933C"],["SIM1C","00933C"],["SIM23","00933C"],["SIM22","00933C"],["SIM4X","00933C"],["Q1","FAA61A"],["Q3","00AEEF"],["Q2","6CBE45"],["Q5","EE352E"],["Q4","EE352E"],["SIM4C","00933C"],["B44+","B933AD",,"B44-SBS"],["B46+","6CBE45",,"B46-SBS"],["M23+","B933AD",,"M23-SBS"],["BX1","00AEEF"],["BX2","FAA61A"],["BX5","EE352E"],["BX6","EE352E"],["BX3","EE352E"],["BX4","FAA61A"],["BX9","FAA61A"],["BX7","EE352E"],["BX8","FAA61A"],["BX41+","EE352E"],["Q20B","006CB7"],["Q20A","006CB7"],["Q44+","EE352E",,"Q44-SBS"],["Q52+","FAA61A",1,"Q52-SBS"]],[[1,"00985F",,"Babylon Branch"],[12,"4D5357",,"City Terminal Zone"],[7,"6E3219",,"Far Rockaway Branch"],[2,"0039A6",1,"Harlem"],["Wassaic","0039A6",1,"Wassaic"],[2,"CE8E00",,"Hempstead Branch"],[1,"009B3A",1,"Hudson"],[6,"FF6319",,"Long Beach Branch"],[5,"00B2A9",,"Montauk Branch"],[3,"EE0034",1,"New Haven"],[5,"EE0034",1,"Danbury"],[4,"EE0034",1,"New Canaan"],[6,"EE0034",1,"Waterbury"],[3,"00AF3F",,"Oyster Bay Branch"],[50,"94219A",1,"Pascack Valley"],[10,"006EC7",,"Port Jefferson Branch"],[51,"FFD411",1,"Port Jervis"],[9,"C60C30",,"Port Washington Branch"],[4,"A626AA",,"Ronkonkoma Branch"],[8,"00A1DE",,"West Hempstead Branch"]],[[1,1],[3,3],[2,2],[5,5],[4,4],[7,9],[6,7],["H",28],["J",19],["M",17],["L",21],["N",22],["Q",23],["R",24],["W",25],["A",11],["C",12],["B",14],["E",13],["D",15],["G",18],["F",16],["Z",20],["FS",26],["GS",27],["SI",29]]]';